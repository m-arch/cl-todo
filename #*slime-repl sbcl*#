; SLIME 2013-06-26
CL-USER> (ql:quickload :themouallem)
To load "themouallem":
  Load 1 ASDF system:
    themouallem
; Loading "themouallem"
.........................; 
                         ; compilation unit aborted
                         ;   caught 3 fatal ERROR conditions

; compiling file "/home/marc/quicklisp/local-projects/themouallem/setup.lisp" (written 06 SEP 2014 08:02:22 AM):
; 
; compilation unit aborted
;   caught 1 fatal ERROR condition
; compilation aborted after 0:00:02.514
; compiling file "/home/marc/quicklisp/local-projects/themouallem/modules.lisp" (written 06 SEP 2014 08:02:47 AM):

; /home/marc/quicklisp/local-projects/themouallem/modules.fasl written
; compilation finished in 0:00:00.001
; Evaluation aborted on #<SB-KERNEL:SIMPLE-PACKAGE-ERROR "The name ~S does not designate any package." {100AE35BA3}>.
CL-USER> (ql:quickload :themouallem)
To load "themouallem":
  Load 1 ASDF system:
    themouallem
; Loading "themouallem"
[package public]..........
 <WARN> [08:03:14] public setup.lisp (setup-db) -
  (CLSQL-SYS:SQL-ERROR-DATABASE-MESSAGE
   SQL-ERROR): "Table 'TASKS' already exists"
  
.
; compiling file "/home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp" (written 06 SEP 2014 08:12:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp
; in: DBFUNC SELECT-TASK-BY-ID
;     (PUBLIC::DBFUNC PUBLIC::SELECT-TASK-BY-ID (PUBLIC::ID)
;                     (FIRST
;                      (CLSQL-SYS:SELECT 'PUBLIC::TASK :FLATP T :REFRESH T
;                                        :DATABASE PUBLIC::CURRENT-DB :WHERE
;                                        PUBLIC::[= PUBLIC::[ID] PUBLIC::ID])))
; --> DEFUN PROGN EVAL-WHEN 
; ==>
;   (SB-IMPL::%DEFUN 'PUBLIC::SELECT-TASK-BY-ID
;                    (SB-INT:NAMED-LAMBDA PUBLIC::SELECT-TASK-BY-ID
;                        (PUBLIC::ID)
;                      (BLOCK PUBLIC::SELECT-TASK-BY-ID
;                        (LET (#)
;                          (FUNCALL PUBLIC::TEMP-FUNC-NAME))))
;                    "A database function" 'NIL (SB-C:SOURCE-LOCATION))
; 
; caught STYLE-WARNING:
;   The variable ID is defined but never used.

; in: DBFUNC SELECT-PARENT-TASKS-ID-AND-NAME
;     (CLSQL-SYS:SELECT PUBLIC::[ID] PUBLIC::[NAME] :FROM PUBLIC::[TASKS]
;                       PUBLIC::FLATP T :REFRESH T :DATABASE PUBLIC::CURRENT-DB
;                       :WHERE ...)
; 
; caught WARNING:
;   undefined variable: FLATP

; in: DBFUNC SELECT-TASK-BY-ID
;     (CLSQL-SYS:SELECT 'PUBLIC::TASK :FLATP T :REFRESH T :DATABASE
;                       PUBLIC::CURRENT-DB :WHERE PUBLIC::[= PUBLIC::[ID]
;                       PUBLIC::ID])
; 
; caught WARNING:
;   undefined variable: ID]

; in: DBFUNC INSERT-TASK
;     (PUBLIC::MAKE-UUID-STRING64)
; 
; caught STYLE-WARNING:
;   undefined function: MAKE-UUID-STRING64

; in: DBFUNC SELECT-PARENT-TASKS-ID-AND-NAME
;     (CLSQL-SYS:SELECT PUBLIC::[ID] PUBLIC::[NAME] :FROM PUBLIC::[TASKS]
;                       PUBLIC::FLATP T :REFRESH T :DATABASE PUBLIC::CURRENT-DB
;                       :WHERE ...)
; 
; caught WARNING:
;   undefined variable: NIL]

; in: DBFUNC SELECT-ALL-PARENT-TASKS
;     (CLSQL-SYS:SELECT 'PUBLIC::TASK :FLATP T :REFRESH T :DATABASE
;                       PUBLIC::CURRENT-DB :WHERE PUBLIC::[IS PUBLIC::[PARENT-ID]
;                       PUBLIC::NIL])
; 
; caught WARNING:
;   undefined variable: NIL]

; in: DBFUNC SELECT-TASK-BY-ID
;     (CLSQL-SYS:SELECT 'PUBLIC::TASK :FLATP T :REFRESH T :DATABASE
;                       PUBLIC::CURRENT-DB :WHERE PUBLIC::[= PUBLIC::[ID]
;                       PUBLIC::ID])
; 
; caught WARNING:
;   undefined variable: [=

; in: DBFUNC SELECT-PARENT-TASKS-ID-AND-NAME
;     (CLSQL-SYS:SELECT PUBLIC::[ID] PUBLIC::[NAME] :FROM PUBLIC::[TASKS]
;                       PUBLIC::FLATP T :REFRESH T :DATABASE PUBLIC::CURRENT-DB
;                       :WHERE ...)
; 
; caught WARNING:
;   undefined variable: [ID]

; in: DBFUNC SELECT-TASK-BY-ID
;     (CLSQL-SYS:SELECT 'PUBLIC::TASK :FLATP T :REFRESH T :DATABASE
;                       PUBLIC::CURRENT-DB :WHERE PUBLIC::[= PUBLIC::[ID]
;                       PUBLIC::ID])
; 
; caught WARNING:
;   undefined variable: [ID]

; in: DBFUNC SELECT-PARENT-TASKS-ID-AND-NAME
;     (CLSQL-SYS:SELECT PUBLIC::[ID] PUBLIC::[NAME] :FROM PUBLIC::[TASKS]
;                       PUBLIC::FLATP T :REFRESH T :DATABASE PUBLIC::CURRENT-DB
;                       :WHERE ...)
; 
; caught WARNING:
;   undefined variable: [IS

; in: DBFUNC SELECT-ALL-PARENT-TASKS
;     (CLSQL-SYS:SELECT 'PUBLIC::TASK :FLATP T :REFRESH T :DATABASE
;                       PUBLIC::CURRENT-DB :WHERE PUBLIC::[IS PUBLIC::[PARENT-ID]
;                       PUBLIC::NIL])
; 
; caught WARNING:
;   undefined variable: [IS

; in: DBFUNC SELECT-PARENT-TASKS-ID-AND-NAME
;     (CLSQL-SYS:SELECT PUBLIC::[ID] PUBLIC::[NAME] :FROM PUBLIC::[TASKS]
;                       PUBLIC::FLATP T :REFRESH T :DATABASE PUBLIC::CURRENT-DB
;                       :WHERE ...)
; 
; caught WARNING:
;   undefined variable: [NAME]
; 
; caught WARNING:
;   undefined variable: [PARENT-ID]

; in: DBFUNC SELECT-ALL-PARENT-TASKS
;     (CLSQL-SYS:SELECT 'PUBLIC::TASK :FLATP T :REFRESH T :DATABASE
;                       PUBLIC::CURRENT-DB :WHERE PUBLIC::[IS PUBLIC::[PARENT-ID]
;                       PUBLIC::NIL])
; 
; caught WARNING:
;   undefined variable: [PARENT-ID]

; in: DBFUNC SELECT-PARENT-TASKS-ID-AND-NAME
;     (CLSQL-SYS:SELECT PUBLIC::[ID] PUBLIC::[NAME] :FROM PUBLIC::[TASKS]
;                       PUBLIC::FLATP T :REFRESH T :DATABASE PUBLIC::CURRENT-DB
;                       :WHERE ...)
; 
; caught WARNING:
;   undefined variable: [TASKS]
; 
; compilation unit finished
;   Undefined function:
;     MAKE-UUID-STRING64
;   Undefined variables:
;     FLATP ID] NIL] [= [ID] [IS [NAME] [PARENT-ID] [TASKS]
;   caught 13 WARNING conditions
;   caught 2 STYLE-WARNING conditions

; /home/marc/quicklisp/local-projects/themouallem/db-models/task.fasl written
; compilation finished in 0:00:00.063
; compiling file "/home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp" (written 06 SEP 2014 08:12:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp
; in: DBFUNC SELECT-PARENT-TASKS-ID-AND-NAME
;     (CLSQL-SYS:SELECT #<CLSQL-SYS:SQL-IDENT-ATTRIBUTE ID>
;                       #<CLSQL-SYS:SQL-IDENT-ATTRIBUTE NAME> :FROM
;                       #<CLSQL-SYS:SQL-IDENT-ATTRIBUTE TASKS> PUBLIC::FLATP T
;                       :REFRESH T :DATABASE PUBLIC::CURRENT-DB :WHERE ...)
; 
; caught WARNING:
;   undefined variable: FLATP

; in: DBFUNC INSERT-TASK
;     (PUBLIC::MAKE-UUID-STRING64)
; 
; caught STYLE-WARNING:
;   undefined function: MAKE-UUID-STRING64
; 
; compilation unit finished
;   Undefined function:
;     MAKE-UUID-STRING64
;   Undefined variable:
;     FLATP
;   caught 1 WARNING condition
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/db-models/task.fasl written
; compilation finished in 0:00:00.038
; compiling file "/home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp" (written 06 SEP 2014 08:12:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp
; in: DBFUNC SELECT-PARENT-TASKS-ID-AND-NAME
;     (CLSQL-SYS:SELECT #<CLSQL-SYS:SQL-IDENT-ATTRIBUTE ID>
;                       #<CLSQL-SYS:SQL-IDENT-ATTRIBUTE NAME> :FROM
;                       #<CLSQL-SYS:SQL-IDENT-ATTRIBUTE TASKS> PUBLIC::FLATP T
;                       :REFRESH T :DATABASE PUBLIC::CURRENT-DB :WHERE ...)
; 
; caught WARNING:
;   undefined variable: FLATP

; in: DBFUNC INSERT-TASK
;     (PUBLIC::MAKE-UUID-STRING64)
; 
; caught STYLE-WARNING:
;   undefined function: MAKE-UUID-STRING64
; 
; compilation unit finished
;   Undefined function:
;     MAKE-UUID-STRING64
;   Undefined variable:
;     FLATP
;   caught 1 WARNING condition
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/db-models/task.fasl written
; compilation finished in 0:00:00.040
; compiling file "/home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp" (written 06 SEP 2014 08:12:30 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp
; in: DBFUNC INSERT-TASK
;     (PUBLIC::MAKE-UUID-STRING64)
; 
; caught STYLE-WARNING:
;   undefined function: MAKE-UUID-STRING64
; 
; compilation unit finished
;   Undefined function:
;     MAKE-UUID-STRING64
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/db-models/task.fasl written
; compilation finished in 0:00:00.037
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/logic-utils.lisp" (written 04 SEP 2014 11:46:59 PM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/logic-utils.fasl written
; compilation finished in 0:00:00.005
; compiling file "/home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp" (written 06 SEP 2014 08:13:51 AM):

; /home/marc/quicklisp/local-projects/themouallem/db-models/task.fasl written
; compilation finished in 0:00:00.056
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 08:14:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE HOME-GET
;     (PUBLIC::DEFINE-ROUTE PUBLIC::HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME
;                                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME)))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK 
; ==>
;   (PUBLIC::FILL-TEMPLATE "home.html.tmpl"
;                          (APPEND
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME #))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME))
;                           (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET))))
; 
; caught STYLE-WARNING:
;   The function has an odd number of arguments in the keyword portion.
; 
; compilation unit finished
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.017
(:THEMOUALLEM)
CL-USER> (macroexpand-1 '(define-route home-get ("" :template-file "home.html.tmpl")
  (let ((parents-task-id-name (select-parent-tasks-id-and-title)))
    (list
     :page-title "Welcome"
     :project-description "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
     :parents-tasks-id-name parents-task-id-name))))
		       
(DEFINE-ROUTE HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
 (LET ((PARENTS-TASK-ID-NAME (SELECT-PARENT-TASKS-ID-AND-TITLE)))
   (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
         "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
         :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME)))
NIL
CL-USER> (macroexpand-1 '(define-route home-get ("" :template-file "home.html.tmpl")
  (let ((parents-task-id-name (select-parent-tasks-id-and-title)))
    (list
     :page-title "Welcome"
     :project-description "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
     :parents-tasks-id-name parents-task-id-name))))
		       
(DEFINE-ROUTE HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
 (LET ((PARENTS-TASK-ID-NAME (SELECT-PARENT-TASKS-ID-AND-TITLE)))
   (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
         "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
         :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME)))
NIL
CL-USER> (macroexpand-1 '(define-route "fsdaf" ("SDF") (list :dsf "sdfaF"))
		       )
(DEFINE-ROUTE "fsdaf" ("SDF") (LIST :DSF "sdfaF"))
NIL
CL-USER> (in-package :public) (macroexpand-1 '(define-route home-get ("" :template-file "home.html.tmpl")
  (let ((parents-task-id-name (select-parent-tasks-id-and-title)))
    (list
     :page-title "Welcome"
     :project-description "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
     :parents-tasks-id-name parents-task-id-name))))
		       
(RESTAS:DEFINE-ROUTE HOME-GET
    ("" :METHOD :GET :CONTENT-TYPE NIL)
  (FILL-TEMPLATE "home.html.tmpl"
                 (APPEND
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET)))))
T
PUBLIC> (APPEND
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET)))
; Evaluation aborted on #<UNDEFINED-FUNCTION CLEAR-KEY-REST-LIST {1005A0D113}>.
PUBLIC> (APPEND
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET)))
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp" (written 04 SEP 2014 11:20:42 PM):

; file: /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp
; in: DEFUN GENURL
;     (PUBLIC::CLEAR-KEY-REST-LIST PUBLIC::ARGS '(:RELATIVE))
; 
; caught STYLE-WARNING:
;   undefined function: CLEAR-KEY-REST-LIST
; 
; compilation unit finished
;   Undefined function:
;     CLEAR-KEY-REST-LIST
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.fasl written
; compilation finished in 0:00:00.056
; Evaluation aborted on #<UNDEFINED-FUNCTION CLEAR-KEY-REST-LIST {1005BDC313}>.
PUBLIC> (APPEND
	 (LET ((PARENTS-TASK-ID-NAME
		(SELECT-PARENT-TASKS-ID-AND-TITLE)))
	   (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
		 "This is a tasks manager. It allows you to manage your task, by being able to create, encode-universal-time and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
		 :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
	 (LIST :HOME-URL (GENURL 'HOME-GET)))
; Evaluation aborted on #<UNDEFINED-FUNCTION CLEAR-KEY-REST-LIST {10070576A3}>.
PUBLIC> (APPEND
	 (LET ((PARENTS-TASK-ID-NAME
		(SELECT-PARENT-TASKS-ID-AND-TITLE)))
	   (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
		 "This is a tasks manager. It allows you to manage your task, by being able to create, encode-universal-time and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
		 :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME)))
(:PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
 "This is a tasks manager. It allows you to manage your task, by being able to create, encode-universal-time and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
 :PARENTS-TASKS-ID-NAME NIL)
PUBLIC> (APPEND
	 (LET ((PARENTS-TASK-ID-NAME
		(SELECT-PARENT-TASKS-ID-AND-TITLE)))
	   (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
		 "This is a tasks manager. It allows you to manage your task, by being able to create, encode-universal-time and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
		 :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME)))
(:PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
 "This is a tasks manager. It allows you to manage your task, by being able to create, encode-universal-time and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
 :PARENTS-TASKS-ID-NAME NIL)
PUBLIC> 
; No value
PUBLIC> (do ((i 0 (1+ i))
	     (end 5 end))
	    ((= i end) "reached")
	  (format t "~A" i))
01234
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp" (written 06 SEP 2014 08:30:07 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.fasl written
; compilation finished in 0:00:00.092
"reached"
PUBLIC> (clear-key-rest-list `(:marc "marc") '(:relative))
(:MARC "marc")
PUBLIC> (clear-key-rest-list `(:marc "marc" :ddd "Dsfs") '(:relative))
(:MARC "marc" :DDD "Dsfs")
PUBLIC> (clear-key-rest-list `((:marc "marc" :ddd "Dsfs")) '(:relative))
((:MARC "marc" :DDD "Dsfs"))
PUBLIC> (clear-key-rest-list `((genurl bab :marc "marc" :ddd "Dsfs")) '(:relative))
((GENURL BAB :MARC "marc" :DDD "Dsfs"))
PUBLIC> (clear-key-rest-list `(,(genurl bab :marc "marc" :ddd "Dsfs")) '(:relative))
; Evaluation aborted on #<UNBOUND-VARIABLE BAB {1003387C33}>.
PUBLIC> (clear-key-rest-list `(,(genurl home-get :marc "marc" :ddd "Dsfs")) '(:relative))
; compiling (DEFINE-ROUTE HOME-GET ...)

; file: /tmp/filek2SWYl
; in: DEFINE-ROUTE HOME-GET
;     (PUBLIC::DEFINE-ROUTE PUBLIC::HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME
;                                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME)))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK 
; ==>
;   (PUBLIC::FILL-TEMPLATE "home.html.tmpl"
;                          (APPEND
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME #))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME))
;                           (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET))))
; 
; caught STYLE-WARNING:
;   The function has an odd number of arguments in the keyword portion.
; 
; compilation unit finished
;   caught 1 STYLE-WARNING condition
; Evaluation aborted on #<UNBOUND-VARIABLE HOME-GET {100346DB83}>.
PUBLIC> (clear-key-rest-list `(,(genurl 'home-get :marc "marc" :ddd "Dsfs")) '(:relative))
("/?marc=marc&ddd=Dsfs")
PUBLIC> (trace clear-key-rest-list)
(CLEAR-KEY-REST-LIST)
PUBLIC> (clear-key-rest-list `(,(genurl 'home-get :marc "marc" :ddd "Dsfs")) '(:relative))
  0: (CLEAR-KEY-REST-LIST (:MARC "marc" :DDD "Dsfs") (:RELATIVE))
  0: CLEAR-KEY-REST-LIST returned (:MARC "marc" :DDD "Dsfs")
  0: (CLEAR-KEY-REST-LIST ("/?marc=marc&ddd=Dsfs") (:RELATIVE))
  0: CLEAR-KEY-REST-LIST returned ("/?marc=marc&ddd=Dsfs")
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp" (written 06 SEP 2014 08:36:05 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.fasl written
; compilation finished in 0:00:00.056
("/?marc=marc&ddd=Dsfs")
PUBLIC> (clear-key-rest-list `(,(genurl 'home-get :marc "marc" :ddd "Dsfs")) '(:relative))
  0: (CLEAR-KEY-REST-LIST (:MARC "marc" :DDD "Dsfs") (:RELATIVE))
WARNING: PUBLIC::I is undefined, not tracing.
WARNING: PUBLIC::I is undefined, not tracing.
WARNING: PUBLIC::I is undefined, not tracing.
WARNING: PUBLIC::I is undefined, not tracing.
  0: CLEAR-KEY-REST-LIST returned (:MARC "marc" :DDD "Dsfs")
  0: (CLEAR-KEY-REST-LIST ("/?marc=marc&ddd=Dsfs") (:RELATIVE))
WARNING: PUBLIC::I is undefined, not tracing.
  0: CLEAR-KEY-REST-LIST returned ("/?marc=marc&ddd=Dsfs")
("/?marc=marc&ddd=Dsfs")
PUBLIC> (untrace clear-key-rest-list)
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp" (written 06 SEP 2014 08:36:40 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.fasl written
; compilation finished in 0:00:00.060
T
PUBLIC> (rest `(,(genurl 'home-get :marc "marc" :ddd "Dsfs")))
NIL
PUBLIC> ((swank-backend:arglist  `(,(genurl 'home-get :marc "marc" :ddd "Dsfs")))
	 )
; in:
;      (SWANK-BACKEND:ARGLIST `(,(GENURL 'HOME-GET :MARC "marc" :DDD "Dsfs")))
;     ((SWANK-BACKEND:ARGLIST
;       `(,(PUBLIC::GENURL 'PUBLIC::HOME-GET :MARC "marc" :DDD "Dsfs"))))
; 
; caught ERROR:
;   illegal function call
; 
; compilation unit finished
;   caught 1 ERROR condition
; Evaluation aborted on #<SB-INT:COMPILED-PROGRAM-ERROR {1006FA0C73}>.
PUBLIC> (swank-backend:arglist  `(,(genurl 'home-get :marc "marc" :ddd "Dsfs")))
	 
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp" (written 06 SEP 2014 08:39:18 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.fasl written
; compilation finished in 0:00:00.063
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp" (written 06 SEP 2014 08:39:21 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.fasl written
; compilation finished in 0:00:00.075
; Evaluation aborted on #<TYPE-ERROR expected-type: FUNCTION datum: ("/?marc=marc&ddd=Dsfs")>.
PUBLIC> (genurl 'home-get :marc "marc" :ddd "Dsfs")
	 
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp" (written 06 SEP 2014 08:39:43 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.fasl written
; compilation finished in 0:00:00.061
"/?marc=marc&ddd=Dsfs"
PUBLIC> (genurl 'home-get :marc "marc" :ddd "Dsfs")
	 
"/?marc=marc&ddd=Dsfs"
PUBLIC> (genurl 'home-get :marc "marc" :ddd "Dsfs" :relative nil)
	 
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 08:14:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE HOME-GET
;     (PUBLIC::DEFINE-ROUTE PUBLIC::HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME
;                                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME)))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK 
; ==>
;   (PUBLIC::FILL-TEMPLATE "home.html.tmpl"
;                          (APPEND
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME #))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME))
;                           (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET))))
; 
; caught STYLE-WARNING:
;   The function has an odd number of arguments in the keyword portion.
; 
; compilation unit finished
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.015
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 08:14:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE HOME-GET
;     (PUBLIC::DEFINE-ROUTE PUBLIC::HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME
;                                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME)))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK 
; ==>
;   (PUBLIC::FILL-TEMPLATE "home.html.tmpl"
;                          (APPEND
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME #))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME))
;                           (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET))))
; 
; caught STYLE-WARNING:
;   The function has an odd number of arguments in the keyword portion.
; 
; compilation unit finished
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.013
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 08:14:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE HOME-GET
;     (PUBLIC::DEFINE-ROUTE PUBLIC::HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME
;                                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME)))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK 
; ==>
;   (PUBLIC::FILL-TEMPLATE "home.html.tmpl"
;                          (APPEND
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME #))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME))
;                           (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET))))
; 
; caught STYLE-WARNING:
;   The function has an odd number of arguments in the keyword portion.
; 
; compilation unit finished
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.007
"http://localhost:8080/?marc=marc&ddd=Dsfs&relative=NIL"
PUBLIC> (restas:define-route home-get 
	    "<p>sfdsaf</p>")
; Evaluation aborted on #<SB-KERNEL::DEFMACRO-BOGUS-SUBLIST-ERROR {100625C453}>.
PUBLIC> (restas:define-route home-get (nil) 
	    "<p>sfdsaf</p>")
STYLE-WARNING: redefining PUBLIC::HOME-GET in DEFUN
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 08:14:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE HOME-GET
;     (PUBLIC::DEFINE-ROUTE PUBLIC::HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME
;                                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME)))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK 
; ==>
;   (PUBLIC::FILL-TEMPLATE "home.html.tmpl"
;                          (APPEND
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME #))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME))
;                           (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET))))
; 
; caught STYLE-WARNING:
;   The function has an odd number of arguments in the keyword portion.
; 
; compilation unit finished
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.016
STYLE-WARNING: redefining PUBLIC::HOME-GET in DEFUN
; No value
PUBLIC> (restas:define-route home-get ("home.htm.tmpl") 
	    "<p>sfdsaf</p>")
STYLE-WARNING: redefining PUBLIC::HOME-GET in DEFUN
; No value
PUBLIC> (restas:define-route home-get ("" :method :get) 
	    "<p>sfdsaf</p>")
STYLE-WARNING: redefining PUBLIC::HOME-GET in DEFUN
; No value
PUBLIC> (macroexpand-1 '(define-route home-get ("" :template-file "home.html.tmpl")
  (let ((parents-task-id-name (select-parent-tasks-id-and-title)))
    (list
     :page-title "Welcome"
     :project-description "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
     :parents-tasks-id-name parents-task-id-name))))
		       
(RESTAS:DEFINE-ROUTE HOME-GET
    ("" :METHOD :GET :CONTENT-TYPE NIL)
  (FILL-TEMPLATE "home.html.tmpl"
                 (APPEND
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET)))))
T
PUBLIC> (restas:define-route p-get ("/p" :method :get) 
	    "<p>sfdsaf</p>")
; No value
PUBLIC> (restas:define-route p-get ("/p" :method :get) 
	    "<p>sfdsasdffsfsdf sdf sdf</p>")
STYLE-WARNING: redefining PUBLIC::P-GET in DEFUN
; No value
PUBLIC> (macroexpand-1 '(define-route home-get ("" :template-file "home.html.tmpl")
  (let ((parents-task-id-name (select-parent-tasks-id-and-title)))
    (list
     :page-title "Welcome"
     :project-description "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
     :parents-tasks-id-name parents-task-id-name))))
		       
(RESTAS:DEFINE-ROUTE HOME-GET
    ("" :METHOD :GET :CONTENT-TYPE NIL)
  (FILL-TEMPLATE "home.html.tmpl"
                 (APPEND
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET)))))
T
PUBLIC> (RESTAS:DEFINE-ROUTE HOME-GET
    ("" :METHOD :GET :CONTENT-TYPE NIL)
  (FILL-TEMPLATE "home.html.tmpl"
                 (APPEND
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET)))))
; in: RESTAS:DEFINE-ROUTE HOME-GET
;     (PUBLIC::FILL-TEMPLATE "home.html.tmpl"
;                            (APPEND
;                             (LET ((PUBLIC::PARENTS-TASK-ID-NAME #))
;                               (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                     "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                     :PARENTS-TASKS-ID-NAME
;                                     PUBLIC::PARENTS-TASK-ID-NAME))
;                             (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET))))
; 
; caught STYLE-WARNING:
;   The function has an odd number of arguments in the keyword portion.
; 
; compilation unit finished
;   caught 1 STYLE-WARNING condition
STYLE-WARNING: redefining PUBLIC::HOME-GET in DEFUN
; No value
PUBLIC> 
; No value
PUBLIC> (RESTAS:DEFINE-ROUTE HOME-GET
    ("" :METHOD :GET :CONTENT-TYPE NIL)
	  "sfdfsfdsdfsdf")
STYLE-WARNING: redefining PUBLIC::HOME-GET in DEFUN
; No value
PUBLIC> (FILL-TEMPLATE "home.html.tmpl"
                 (APPEND
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET))))
; Evaluation aborted on #<SB-INT:SIMPLE-PROGRAM-ERROR "odd number of &KEY arguments" {1007BC15F3}>.
PUBLIC> (APPEND
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET)))
(:PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
 "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
 :PARENTS-TASKS-ID-NAME NIL :HOME-URL "/")
PUBLIC> (FILL-TEMPLATE "home.html.tmpl" (:PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
 "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
 :PARENTS-TASKS-ID-NAME NIL :HOME-URL "/"))
; in: FILL-TEMPLATE "home.html.tmpl"
;     (:PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;      "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;      :PARENTS-TASKS-ID-NAME NIL :HOME-URL "/")
; 
; caught STYLE-WARNING:
;   undefined function: :PAGE-TITLE
; 
; compilation unit finished
;   Undefined function:
;     :PAGE-TITLE
;   caught 1 STYLE-WARNING condition
; Evaluation aborted on #<UNDEFINED-FUNCTION PAGE-TITLE {1008836E33}>.
PUBLIC> (FILL-TEMPLATE "home.html.tmpl" '(:PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
 "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
 :PARENTS-TASKS-ID-NAME NIL :HOME-URL "/"))
; Evaluation aborted on #<SB-INT:SIMPLE-PROGRAM-ERROR "odd number of &KEY arguments" {100939B4C3}>.
PUBLIC> (FILL-TEMPLATE "home.html.tmpl" 
		       )
<FATAL> [09:05:22] public template-utils.lisp (fill-template) - FUNC: NIL
  FILE: "home.html.tmpl" 
NIL
PUBLIC> (FILL-TEMPLATE "/home.html.tmpl" 
		       )
<FATAL> [09:05:44] public template-utils.lisp (fill-template) - FUNC: NIL
  FILE: "/home.html.tmpl" 
NIL
PUBLIC> (FILL-TEMPLATE "home.html.tmpl" 
		       )
<FATAL> [09:05:48] public template-utils.lisp (fill-template) - FUNC: NIL
  FILE: "home.html.tmpl" 
NIL
PUBLIC> (FILL-TEMPLATE "home.html.tmpl" 
		       )
<FATAL> [09:05:54] public template-utils.lisp (fill-template) - FUNC: NIL
  FILE: "home.html.tmpl" 
NIL
PUBLIC> (FILL-TEMPLATE "home.html.tmpl" 
		       )
<FATAL> [09:06:15] public template-utils.lisp (fill-template) - FUNC: NIL
  FILE: "home.html.tmpl" 
NIL
PUBLIC> (FILL-TEMPLATE "home.html.tmpl" 
		       )
<FATAL> [09:06:37] public template-utils.lisp (fill-template) - FUNC: NIL
  FILE: "home.html.tmpl" 
NIL
PUBLIC> (FILL-TEMPLATE "home.html.tmpl" 
		       (:marc "sdfsf"))

;     (:MARC "sdfsf")
; 
; caught STYLE-WARNING:
;   undefined function: :MARC
; 
; compilation unit finished
;   Undefined function:
;     :MARC
;   caught 1 STYLE-WARNING condition
; Evaluation aborted on #<UNDEFINED-FUNCTION MARC {100977DCD3}>.
PUBLIC> (FILL-TEMPLATE "home.html.tmpl" 
		       '(:marc "sdfsf"))
; Evaluation aborted on #<SB-INT:SIMPLE-PROGRAM-ERROR "odd number of &KEY arguments" {100985A913}>.
PUBLIC> (fill-template "base.html.tmpl")
<FATAL> [09:07:33] public template-utils.lisp (fill-template) - FUNC: NIL
  FILE: "base.html.tmpl" 
; compiling (DEFUN FILL-TEMPLATE ...)
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp" (written 06 SEP 2014 09:09:05 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.fasl written
; compilation finished in 0:00:00.075
NIL
PUBLIC> (fill-template "base.html.tmpl")
<FATAL> [09:09:09] public template-utils.lisp (fill-template) -
  ORIGINAL-FILE: #P"/home/marc/.cache/common-lisp/sbcl-1.1.14.debian-linux-x64/home/marc/quicklisp/local-projects/themouallem/../templates/base.html.tmpl"
  
<FATAL> [09:09:09] public template-utils.lisp (fill-template) - FUNC: NIL
  FILE: "base.html.tmpl" 
NIL
PUBLIC> (fill-template "/base.html.tmpl")
<FATAL> [09:09:50] public template-utils.lisp (fill-template) -
  ORIGINAL-FILE: "/base.html.tmpl" 
<FATAL> [09:09:50] public template-utils.lisp (fill-template) - FUNC: NIL
  FILE: "/base.html.tmpl" 
NIL
PUBLIC> (fill-template "base.html.tmpl")
<FATAL> [09:09:55] public template-utils.lisp (fill-template) -
  ORIGINAL-FILE: #P"/home/marc/.cache/common-lisp/sbcl-1.1.14.debian-linux-x64/home/marc/quicklisp/local-projects/themouallem/../templates/base.html.tmpl"
  
<FATAL> [09:09:55] public template-utils.lisp (fill-template) - FUNC: NIL
  FILE: "base.html.tmpl" 
; compiling file "/home/marc/quicklisp/local-projects/themouallem/constants.lisp" (written 05 SEP 2014 12:07:57 AM):

; /home/marc/quicklisp/local-projects/themouallem/constants.fasl written
; compilation finished in 0:00:00.009
NIL
PUBLIC> (defvar *base-directory* 
  (make-pathname :name nil :type nil :defaults *load-truename*))
; compiling file "/home/marc/quicklisp/local-projects/themouallem/constants.lisp" (written 06 SEP 2014 09:12:34 AM):

; /home/marc/quicklisp/local-projects/themouallem/constants.fasl written
; compilation finished in 0:00:00.008
*BASE-DIRECTORY*
PUBLIC> (merge-pathnames #p"/templates/" instance:*base-directory*)
; compiling file "/home/marc/quicklisp/local-projects/themouallem/constants.lisp" (written 06 SEP 2014 09:12:56 AM):

; /home/marc/quicklisp/local-projects/themouallem/constants.fasl written
; compilation finished in 0:00:00.012
; compiling file "/home/marc/quicklisp/local-projects/themouallem/constants.lisp" (written 06 SEP 2014 09:13:12 AM):

; /home/marc/quicklisp/local-projects/themouallem/constants.fasl written
; compilation finished in 0:00:00.015
; compiling file "/home/marc/quicklisp/local-projects/themouallem/constants.lisp" (written 06 SEP 2014 09:13:29 AM):

; /home/marc/quicklisp/local-projects/themouallem/constants.fasl written
; compilation finished in 0:00:00.017
; compiling file "/home/marc/quicklisp/local-projects/themouallem/constants.lisp" (written 06 SEP 2014 09:14:08 AM):

; /home/marc/quicklisp/local-projects/themouallem/constants.fasl written
; compilation finished in 0:00:00.009
#P"/templates/"
PUBLIC> (merge-pathnames #p"templates/" instance:*base-directory*)
; compiling file "/home/marc/quicklisp/local-projects/themouallem/constants.lisp" (written 06 SEP 2014 09:14:08 AM):

; /home/marc/quicklisp/local-projects/themouallem/constants.fasl written
; compilation finished in 0:00:00.008
#P"/home/marc/quicklisp/local-projects/themouallem/templates/"
PUBLIC> *template-directory*
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 08:14:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE HOME-GET
;     (PUBLIC::DEFINE-ROUTE PUBLIC::HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME
;                                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME)))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK 
; ==>
;   (PUBLIC::FILL-TEMPLATE "home.html.tmpl"
;                          (APPEND
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME #))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME))
;                           (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET))))
; 
; caught STYLE-WARNING:
;   The function has an odd number of arguments in the keyword portion.
; 
; compilation unit finished
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.007
STYLE-WARNING: redefining PUBLIC::HOME-GET in DEFUN
#P"/home/marc/quicklisp/local-projects/themouallem/templates/"
PUBLIC> (FILL-TEMPLATE "home.html.tmpl" '(:PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
 "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
 :PARENTS-TASKS-ID-NAME NIL :HOME-URL "/"))
; Evaluation aborted on #<SIMPLE-ERROR "Attempt to access unrecorded object (id ~D)." {1007031D93}>.
PUBLIC> (FILL-TEMPLATE "home.html.tmpl" '(:PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
 "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
 :PARENTS-TASKS-ID-NAME NIL :HOME-URL "/"))
; Evaluation aborted on #<SB-INT:SIMPLE-PROGRAM-ERROR "odd number of &KEY arguments" {10070CF8A3}>.
PUBLIC> (fill-template "home.html.tmpl")
<FATAL> [09:15:55] public template-utils.lisp (fill-template) -
  ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:15:55] public template-utils.lisp (fill-template) -
  FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING) {10072E70DB}>
  FILE: "home.html.tmpl" 
"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">
<html xmlns=\"http://www.w3.org/1999/xhtml\">
<head>
<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" />
<title>ToDo Tasks</title>
<style>
   /* Begin Navigation Bar Styling */
   #nav {
      width: 100%;
      float: left;
      margin: 0 0 3em 0;
      padding: 0;
      list-style: none;
      background-color: #f2f2f2;
      border-bottom: 1px solid #ccc; 
      border-top: 1px solid #ccc; }
   #nav li {
      float: left; }
   #nav li a {
      display: block;
      padding: 8px 15px;
      text-decoration: none;
      font-weight: bold;
      color: #069;
      border-right: 1px solid #ccc; }
   #nav li a:hover {
      color: #c00;
      background-color: #fff; }
   /* End navigation bar styling. */
   
   /* This is just styling for this specific page. */
   body {
      background-color: #555; 
      font: small/1.3 Arial, Helvetica, sans-serif; }
   #wrap {
      width: 750px;
      margin: 0 auto;
      background-color: #fff; }
   h1 {
      font-size: 1.5em;
      padding: 1em 8px;
      color: #333;
      background-color: #069;
      margin: 0; }
   #content {
      padding: 0 50px 50px; }
</style>

</head>
<body>
<div id=\"wrap\">
   <h1>My simple to do tasks</h1>
   <ul id=\"nav\">
     <li><a href=''>Home</a></li>
     <li><a href=''>View tasks</a></li>
     <li><a href=''>Create a new task</a></li>
   </ul>
   <div id=\"content\">
  
<h2>  </h2>
<br/><br/>
<p> </p>

   </div>
</div>
</body>
</html>
"
PUBLIC> (fill-template "home.html.tmpl")
<FATAL> [09:16:07] public template-utils.lisp (fill-template) -
  ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:16:07] public template-utils.lisp (fill-template) -
  FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING) {100748552B}>
  FILE: "home.html.tmpl" 
"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">
<html xmlns=\"http://www.w3.org/1999/xhtml\">
<head>
<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" />
<title>ToDo Tasks</title>
<style>
   /* Begin Navigation Bar Styling */
   #nav {
      width: 100%;
      float: left;
      margin: 0 0 3em 0;
      padding: 0;
      list-style: none;
      background-color: #f2f2f2;
      border-bottom: 1px solid #ccc; 
      border-top: 1px solid #ccc; }
   #nav li {
      float: left; }
   #nav li a {
      display: block;
      padding: 8px 15px;
      text-decoration: none;
      font-weight: bold;
      color: #069;
      border-right: 1px solid #ccc; }
   #nav li a:hover {
      color: #c00;
      background-color: #fff; }
   /* End navigation bar styling. */
   
   /* This is just styling for this specific page. */
   body {
      background-color: #555; 
      font: small/1.3 Arial, Helvetica, sans-serif; }
   #wrap {
      width: 750px;
      margin: 0 auto;
      background-color: #fff; }
   h1 {
      font-size: 1.5em;
      padding: 1em 8px;
      color: #333;
      background-color: #069;
      margin: 0; }
   #content {
      padding: 0 50px 50px; }
</style>

</head>
<body>
<div id=\"wrap\">
   <h1>My simple to do tasks</h1>
   <ul id=\"nav\">
     <li><a href=''>Home</a></li>
     <li><a href=''>View tasks</a></li>
     <li><a href=''>Create a new task</a></li>
   </ul>
   <div id=\"content\">
  
<h2>  </h2>
<br/><br/>
<p> </p>

   </div>
</div>
</body>
</html>
"
PUBLIC> (fill-template "home.html.tmpl"
		       :marc "safdsadf")
<FATAL> [09:16:14] public template-utils.lisp (fill-template) -
  ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:16:14] public template-utils.lisp (fill-template) -
  FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING) {100755D52B}>
  FILE: "home.html.tmpl" 
"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">
<html xmlns=\"http://www.w3.org/1999/xhtml\">
<head>
<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" />
<title>ToDo Tasks</title>
<style>
   /* Begin Navigation Bar Styling */
   #nav {
      width: 100%;
      float: left;
      margin: 0 0 3em 0;
      padding: 0;
      list-style: none;
      background-color: #f2f2f2;
      border-bottom: 1px solid #ccc; 
      border-top: 1px solid #ccc; }
   #nav li {
      float: left; }
   #nav li a {
      display: block;
      padding: 8px 15px;
      text-decoration: none;
      font-weight: bold;
      color: #069;
      border-right: 1px solid #ccc; }
   #nav li a:hover {
      color: #c00;
      background-color: #fff; }
   /* End navigation bar styling. */
   
   /* This is just styling for this specific page. */
   body {
      background-color: #555; 
      font: small/1.3 Arial, Helvetica, sans-serif; }
   #wrap {
      width: 750px;
      margin: 0 auto;
      background-color: #fff; }
   h1 {
      font-size: 1.5em;
      padding: 1em 8px;
      color: #333;
      background-color: #069;
      margin: 0; }
   #content {
      padding: 0 50px 50px; }
</style>

</head>
<body>
<div id=\"wrap\">
   <h1>My simple to do tasks</h1>
   <ul id=\"nav\">
     <li><a href=''>Home</a></li>
     <li><a href=''>View tasks</a></li>
     <li><a href=''>Create a new task</a></li>
   </ul>
   <div id=\"content\">
  
<h2>  </h2>
<br/><br/>
<p> </p>

   </div>
</div>
</body>
</html>
"
PUBLIC> (fill-template "home.html.tmpl"
		       :home-url "marc"
		       )
<FATAL> [09:16:29] public template-utils.lisp (fill-template) -
  ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:16:29] public template-utils.lisp (fill-template) -
  FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING) {10076970DB}>
  FILE: "home.html.tmpl" 
"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">
<html xmlns=\"http://www.w3.org/1999/xhtml\">
<head>
<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" />
<title>ToDo Tasks</title>
<style>
   /* Begin Navigation Bar Styling */
   #nav {
      width: 100%;
      float: left;
      margin: 0 0 3em 0;
      padding: 0;
      list-style: none;
      background-color: #f2f2f2;
      border-bottom: 1px solid #ccc; 
      border-top: 1px solid #ccc; }
   #nav li {
      float: left; }
   #nav li a {
      display: block;
      padding: 8px 15px;
      text-decoration: none;
      font-weight: bold;
      color: #069;
      border-right: 1px solid #ccc; }
   #nav li a:hover {
      color: #c00;
      background-color: #fff; }
   /* End navigation bar styling. */
   
   /* This is just styling for this specific page. */
   body {
      background-color: #555; 
      font: small/1.3 Arial, Helvetica, sans-serif; }
   #wrap {
      width: 750px;
      margin: 0 auto;
      background-color: #fff; }
   h1 {
      font-size: 1.5em;
      padding: 1em 8px;
      color: #333;
      background-color: #069;
      margin: 0; }
   #content {
      padding: 0 50px 50px; }
</style>

</head>
<body>
<div id=\"wrap\">
   <h1>My simple to do tasks</h1>
   <ul id=\"nav\">
     <li><a href='marc'>Home</a></li>
     <li><a href=''>View tasks</a></li>
     <li><a href=''>Create a new task</a></li>
   </ul>
   <div id=\"content\">
  
<h2>  </h2>
<br/><br/>
<p> </p>

   </div>
</div>
</body>
</html>
"
PUBLIC> (macroexpand-1 '(define-route home-get ("" :template-file "home.html.tmpl")
  (let ((parents-task-id-name (select-parent-tasks-id-and-title)))
    (list
     :page-title "Welcome"
     :project-description "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
     :parents-tasks-id-name parents-task-id-name))))
		       
(RESTAS:DEFINE-ROUTE HOME-GET
    ("" :METHOD :GET :CONTENT-TYPE NIL)
  (FILL-TEMPLATE "home.html.tmpl"
                 (APPEND
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET)))))
T
PUBLIC> (APPEND
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET)))
(:PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
 "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
 :PARENTS-TASKS-ID-NAME NIL :HOME-URL "/")
PUBLIC> (FILL-TEMPLATE "home.html.tmpl"
                 (APPEND
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET))))
; Evaluation aborted on #<SB-INT:SIMPLE-PROGRAM-ERROR "odd number of &KEY arguments" {1007967AC3}>.
PUBLIC> (FILL-TEMPLATE "home.html.tmpl"
                 (APPEND
		  "home.html.tmpl"
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET))))
; Evaluation aborted on #<TYPE-ERROR expected-type: LIST datum: "home.html.tmpl">.
PUBLIC> (FILL-TEMPLATE "home.html.tmpl"
                 (APPEND
		  '("home.html.tmpl")
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET))))
; Evaluation aborted on #<SB-INT:SIMPLE-PROGRAM-ERROR "odd number of &KEY arguments" {1007C7F343}>.
PUBLIC> (FILL-TEMPLATE 
                 (APPEND
		  '("home.html.tmpl")
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET))))
; Evaluation aborted on #<TYPE-ERROR expected-type:
             (OR (VECTOR CHARACTER) (VECTOR NIL) BASE-STRING PATHNAME FILE-STREAM)

             datum:
             ("home.html.tmpl" :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION ..)>.
PUBLIC> (apply 'FILL-TEMPLATE 
                 (APPEND
		  '("home.html.tmpl")
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET))))
<FATAL> [09:18:27] public template-utils.lisp (fill-template) -
  ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:18:27] public template-utils.lisp (fill-template) -
  FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING) {10094C165B}>
  FILE: "home.html.tmpl" 
; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 09:19:12 AM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.027
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 08:14:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE HOME-GET
;     (PUBLIC::DEFINE-ROUTE PUBLIC::HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME
;                                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME)))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK APPLY MULTIPLE-VALUE-CALL 
; --> VALUES-LIST 
; ==>
;   (APPEND "home.html.tmpl"
;           (LET ((PUBLIC::PARENTS-TASK-ID-NAME
;                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                   :PARENTS-TASKS-ID-NAME PUBLIC::PARENTS-TASK-ID-NAME))
;           (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET)))
; 
; caught WARNING:
;   Constant "home.html.tmpl" conflicts with its asserted type LIST.
;   See also:
;     The SBCL Manual, Node "Handling of Types"
; 
; compilation unit finished
;   caught 1 WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.007
; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 09:19:39 AM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.026
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 08:14:06 AM):

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.009
<FATAL> [09:19:48] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:19:48] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100C93965B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [09:19:57] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:19:57] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100C99552B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [09:21:33] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:21:33] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100387965B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [09:21:34] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:21:34] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10038BD52B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [09:21:35] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:21:35] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100390965B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [09:22:34] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:22:34] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10039F965B}>
  PUBLIC::FILE: "home.html.tmpl" 
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 09:23:14 AM):

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.008
<FATAL> [09:23:16] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:23:16] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1003BA965B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [09:23:30] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:23:30] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1003C3D52B}>
  PUBLIC::FILE: "home.html.tmpl" 
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 09:23:29 AM):

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.007
<FATAL> [09:23:33] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:23:33] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1003D5165B}>
  PUBLIC::FILE: "home.html.tmpl" 
; compiling (DEFINE-ROUTE HOME-GET ...)
<FATAL> [09:25:12] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:25:12] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100406E33B}>
  PUBLIC::FILE: "home.html.tmpl" 
; compiling file "/home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp" (written 06 SEP 2014 09:27:31 AM):

; /home/marc/quicklisp/local-projects/themouallem/db-models/task.fasl written
; compilation finished in 0:00:00.044
; compiling file "/home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp" (written 06 SEP 2014 09:33:29 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp
; in: DBFUNC SELECT-ALL-TASKS
;     (PUBLIC::NOT-EXPIRED)
; 
; caught STYLE-WARNING:
;   undefined function: NOT-EXPIRED
; 
; compilation unit finished
;   Undefined function:
;     NOT-EXPIRED
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/db-models/task.fasl written
; compilation finished in 0:00:00.040
; compiling file "/home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp" (written 06 SEP 2014 09:33:51 AM):

; /home/marc/quicklisp/local-projects/themouallem/db-models/task.fasl written
; compilation finished in 0:00:00.038
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/logic-utils.lisp" (written 06 SEP 2014 09:40:37 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/logic-utils.fasl written
; compilation finished in 0:00:00.019
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 09:40:55 AM):

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.011
; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 09:42:33 AM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.030
; compiling file "/home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp" (written 06 SEP 2014 09:45:06 AM):

; /home/marc/quicklisp/local-projects/themouallem/db-models/task.fasl written
; compilation finished in 0:00:00.059
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 09:40:55 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE TASKS-GET
;     (PUBLIC::DEFINE-ROUTE PUBLIC::TASKS-GET
;                           ("/tasks/:type" :TEMPLATE-FILE "tasks.html.tmpl")
;                           (LET ((PUBLIC::TASKS NIL))
;                             (COND
;                              ((STRING= TYPE "peding") (PUBLIC::SELECT-ALL-TASKS))
;                              ((STRING= TYPE "parents-pending")
;                               (PUBLIC::SELECT-ALL-TASKS :ONLY-PARENT-P T)))
;                             (LIST :PAGE-TITLE "My Tasks" :TASKS PUBLIC::TASKS
;                                   :EMPTY-MESSAGE
;                                   (FORMAT NIL "You currently have no ~A tasks"
;                                           (PUBLIC::TYPE-TO-STRING TYPE)))))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK APPLY MULTIPLE-VALUE-CALL 
; --> VALUES-LIST APPEND LIST 
; ==>
;   (PUBLIC::GENURL 'PUBLIC::TASKS-GET :TYPE PUBLIC::ALL)
; 
; caught WARNING:
;   undefined variable: ALL

; in: DEFINE-ROUTE HOME-GET
;     (PUBLIC::DEFINE-ROUTE PUBLIC::HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
;                           (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                 "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by selecting a parent task."))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK APPLY MULTIPLE-VALUE-CALL 
; --> VALUES-LIST APPEND LIST 
; ==>
;   (PUBLIC::GENURL 'PUBLIC::TASKS-GET :TYPE PUBLIC::ALL)
; 
; caught WARNING:
;   undefined variable: ALL
; 
; compilation unit finished
;   Undefined variable:
;     ALL
;   caught 2 WARNING conditions

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.016
; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 09:45:40 AM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.024
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 09:40:55 AM):

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.026
<FATAL> [09:45:44] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:45:44] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1006C3F0DB}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [09:45:46] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [09:45:46] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: NIL PUBLIC::FILE: "tasks.html.tmpl" 
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/logic-utils.lisp" (written 06 SEP 2014 09:46:59 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/logic-utils.fasl written
; compilation finished in 0:00:00.017
<FATAL> [09:50:54] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [09:50:54] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10071ABA5B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [09:51:23] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [09:51:23] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100724A93B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [09:51:24] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:51:24] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100728C40B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [09:51:24] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [09:51:24] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10072DA93B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [09:51:25] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:51:25] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100732440B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [09:51:26] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [09:51:26] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100737A93B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [09:51:27] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [09:51:27] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10073CF50B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [09:51:27] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:51:27] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100742165B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [09:51:28] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [09:51:28] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100746698B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [09:51:29] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:51:29] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10074CFB3B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [09:51:29] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [09:51:29] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100753E76B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [09:51:30] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [09:51:30] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10075CFB3B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [09:51:31] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [09:51:31] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100765E76B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [10:24:29] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [10:24:29] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100C5C633B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [10:24:30] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [10:24:30] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100C61483B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [10:24:33] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [10:24:33] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100C6AA93B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [10:24:35] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [10:24:35] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100C6EF50B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [10:24:36] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [10:24:36] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100C73D95B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [10:24:36] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [10:24:36] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10037960EB}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [10:24:37] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [10:24:37] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100380FB3B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [10:24:38] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [10:24:38] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100385676B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [10:24:45] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [10:24:45] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10038A483B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [10:24:53] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [10:24:53] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1003E9FF6B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [10:26:54] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [10:26:54] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100404633B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [10:26:54] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [10:26:54] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100409D95B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/logic-utils.lisp" (written 06 SEP 2014 11:01:21 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/utilities/logic-utils.lisp
; in: DEFUN PARSE-DATE-STRING
;     (STRINGP STRING)
; 
; caught WARNING:
;   undefined variable: STRING
; 
; compilation unit finished
;   Undefined variable:
;     STRING
;   caught 1 WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/utilities/logic-utils.fasl written
; compilation finished in 0:00:00.028
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/logic-utils.lisp" (written 06 SEP 2014 11:01:31 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/logic-utils.fasl written
; compilation finished in 0:00:00.027
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/logic-utils.lisp" (written 06 SEP 2014 11:01:50 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/logic-utils.fasl written
; compilation finished in 0:00:00.022
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:02:23 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFUN HANDLE-TASK-POST
;     (PUBLIC::DUE-TIME)
; 
; caught STYLE-WARNING:
;   The function was called with zero arguments, but wants exactly one.

;     (DEFUN PUBLIC::HANDLE-TASK-POST
;            (METHOD PUBLIC::ID PUBLIC::TITLE PUBLIC::DESCRIPTION PUBLIC::PARENT-ID
;             PUBLIC::DUE-TIME PUBLIC::DONE-P)
;       (LET ((PUBLIC::PARENT (PUBLIC::SELECT-TASK-BY-ID PUBLIC::PARENT-ID))
;             (PUBLIC::TASK (PUBLIC::SELECT-TASK-BY-ID PUBLIC::ID)))
;         (COND ((AND # # # #) (VALUES NIL "Wrong method specified"))
;               ((AND # #) (VALUES NIL "Fields required"))
;               ((AND # #) (VALUES NIL "Task cannot be in the past"))
;               ((AND # # # #) (VALUES NIL "No task found"))
;               ((AND PUBLIC::PARENT-ID #) (VALUES NIL "Parent task not found"))
;               ((STRING= METHOD "new")
;                (PUBLIC::INSERT-TASK PUBLIC::TITLE PUBLIC::DESCRIPTION
;                                     PUBLIC::DUE-TIME :PARENT-ID #)
;                (VALUES T "Task successfully created"))
;               ((STRING= METHOD "edit") (SETF #) (SETF #) (SETF #) (SETF #)
;                (PUBLIC::UPDATE-TASK PUBLIC::TASK)
;                (VALUES T "Task successfully updated"))
;               ((STRING= METHOD "delete") (PUBLIC::DELETE-TASK PUBLIC::TASK)
;                (VALUES T "Task successfully delete"))
;               ((STRING= METHOD "complete") (SETF #)
;                (PUBLIC::UPDATE-TASK PUBLIC::TASK)
;                (VALUES T "Task indiaced as completed")))))
; --> PROGN EVAL-WHEN 
; ==>
;   (SB-IMPL::%DEFUN 'PUBLIC::HANDLE-TASK-POST
;                    (SB-INT:NAMED-LAMBDA PUBLIC::HANDLE-TASK-POST
;                        (METHOD PUBLIC::ID PUBLIC::TITLE PUBLIC::DESCRIPTION
;                         PUBLIC::PARENT-ID PUBLIC::DUE-TIME PUBLIC::DONE-P)
;                      (BLOCK PUBLIC::HANDLE-TASK-POST
;                        (LET (# #)
;                          (COND # # # # # # # # #))))
;                    NIL 'NIL (SB-C:SOURCE-LOCATION))
; 
; caught STYLE-WARNING:
;   The variable DONE-P is defined but never used.

;     (PUBLIC::STRING=/ METHOD "delete")
; 
; caught STYLE-WARNING:
;   undefined function: STRING=/
; 
; compilation unit finished
;   Undefined function:
;     STRING=/
;   caught 3 STYLE-WARNING conditions

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.045
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:02:32 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFUN HANDLE-TASK-POST
;     (PUBLIC::DUE-TIME)
; 
; caught STYLE-WARNING:
;   The function was called with zero arguments, but wants exactly one.

;     (DEFUN PUBLIC::HANDLE-TASK-POST
;            (METHOD PUBLIC::ID PUBLIC::TITLE PUBLIC::DESCRIPTION PUBLIC::PARENT-ID
;             PUBLIC::DUE-TIME PUBLIC::DONE-P)
;       (LET ((PUBLIC::PARENT (PUBLIC::SELECT-TASK-BY-ID PUBLIC::PARENT-ID))
;             (PUBLIC::TASK (PUBLIC::SELECT-TASK-BY-ID PUBLIC::ID)))
;         (COND ((AND # # # #) (VALUES NIL "Wrong method specified"))
;               ((AND # #) (VALUES NIL "Fields required"))
;               ((AND # #) (VALUES NIL "Task cannot be in the past"))
;               ((AND # # # #) (VALUES NIL "No task found"))
;               ((AND PUBLIC::PARENT-ID #) (VALUES NIL "Parent task not found"))
;               ((STRING= METHOD "new")
;                (PUBLIC::INSERT-TASK PUBLIC::TITLE PUBLIC::DESCRIPTION
;                                     PUBLIC::DUE-TIME :PARENT-ID #)
;                (VALUES T "Task successfully created"))
;               ((STRING= METHOD "edit") (SETF #) (SETF #) (SETF #) (SETF #)
;                (PUBLIC::UPDATE-TASK PUBLIC::TASK)
;                (VALUES T "Task successfully updated"))
;               ((STRING= METHOD "delete") (PUBLIC::DELETE-TASK PUBLIC::TASK)
;                (VALUES T "Task successfully delete"))
;               ((STRING= METHOD "complete") (SETF #)
;                (PUBLIC::UPDATE-TASK PUBLIC::TASK)
;                (VALUES T "Task indiaced as completed")))))
; --> PROGN EVAL-WHEN 
; ==>
;   (SB-IMPL::%DEFUN 'PUBLIC::HANDLE-TASK-POST
;                    (SB-INT:NAMED-LAMBDA PUBLIC::HANDLE-TASK-POST
;                        (METHOD PUBLIC::ID PUBLIC::TITLE PUBLIC::DESCRIPTION
;                         PUBLIC::PARENT-ID PUBLIC::DUE-TIME PUBLIC::DONE-P)
;                      (BLOCK PUBLIC::HANDLE-TASK-POST
;                        (LET (# #)
;                          (COND # # # # # # # # #))))
;                    NIL 'NIL (SB-C:SOURCE-LOCATION))
; 
; caught STYLE-WARNING:
;   The variable DONE-P is defined but never used.
; 
; compilation unit finished
;   caught 2 STYLE-WARNING conditions

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.039
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:02:38 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFUN HANDLE-TASK-POST
;     (DEFUN PUBLIC::HANDLE-TASK-POST
;            (METHOD PUBLIC::ID PUBLIC::TITLE PUBLIC::DESCRIPTION PUBLIC::PARENT-ID
;             PUBLIC::DUE-TIME PUBLIC::DONE-P)
;       (LET ((PUBLIC::PARENT (PUBLIC::SELECT-TASK-BY-ID PUBLIC::PARENT-ID))
;             (PUBLIC::TASK (PUBLIC::SELECT-TASK-BY-ID PUBLIC::ID)))
;         (COND ((AND # # # #) (VALUES NIL "Wrong method specified"))
;               ((AND # #) (VALUES NIL "Fields required"))
;               ((AND # #) (VALUES NIL "Task cannot be in the past"))
;               ((AND # # # #) (VALUES NIL "No task found"))
;               ((AND PUBLIC::PARENT-ID #) (VALUES NIL "Parent task not found"))
;               ((STRING= METHOD "new")
;                (PUBLIC::INSERT-TASK PUBLIC::TITLE PUBLIC::DESCRIPTION
;                                     PUBLIC::DUE-TIME :PARENT-ID #)
;                (VALUES T "Task successfully created"))
;               ((STRING= METHOD "edit") (SETF #) (SETF #) (SETF #) (SETF #)
;                (PUBLIC::UPDATE-TASK PUBLIC::TASK)
;                (VALUES T "Task successfully updated"))
;               ((STRING= METHOD "delete") (PUBLIC::DELETE-TASK PUBLIC::TASK)
;                (VALUES T "Task successfully delete"))
;               ((STRING= METHOD "complete") (SETF #)
;                (PUBLIC::UPDATE-TASK PUBLIC::TASK)
;                (VALUES T "Task indiaced as completed")))))
; --> PROGN EVAL-WHEN 
; ==>
;   (SB-IMPL::%DEFUN 'PUBLIC::HANDLE-TASK-POST
;                    (SB-INT:NAMED-LAMBDA PUBLIC::HANDLE-TASK-POST
;                        (METHOD PUBLIC::ID PUBLIC::TITLE PUBLIC::DESCRIPTION
;                         PUBLIC::PARENT-ID PUBLIC::DUE-TIME PUBLIC::DONE-P)
;                      (BLOCK PUBLIC::HANDLE-TASK-POST
;                        (LET (# #)
;                          (COND # # # # # # # # #))))
;                    NIL 'NIL (SB-C:SOURCE-LOCATION))
; 
; caught STYLE-WARNING:
;   The variable DONE-P is defined but never used.
; 
; compilation unit finished
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.060
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:02:50 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE TASK-POST
;     (PUBLIC::HANDLE-TASK-POST METHOD PUBLIC::ID PUBLIC::TITLE PUBLIC::DESCRIPTION
;                               PUBLIC::PARENT-ID PUBLIC::DUE-TIME)
; 
; caught STYLE-WARNING:
;   The function was called with six arguments, but wants exactly seven.

;     (LET ((PUBLIC::ID (PUBLIC::DATA-PARAM "id"))
;           (PUBLIC::TITLE (PUBLIC::DATA-PARAM "title"))
;           (PUBLIC::DESCRIPTION (PUBLIC::DATA-PARAM "description"))
;           (PUBLIC::PARENT-ID (PUBLIC::DATA-PARAM "parentId"))
;           (PUBLIC::DUE-TIME
;            (PUBLIC::PARSE-DATE-STRING (PUBLIC::DATA-PARAM "dueTime")))
;           (PUBLIC::DONE-P (PUBLIC::TO-BOOL (PUBLIC::DATA-PARAM "isDone"))))
;       (MULTIPLE-VALUE-BIND (PUBLIC::SUCCESS PUBLIC::MESSAGE)
;           (PUBLIC::HANDLE-TASK-POST METHOD PUBLIC::ID PUBLIC::TITLE
;                                     PUBLIC::DESCRIPTION PUBLIC::PARENT-ID
;                                     PUBLIC::DUE-TIME)
;         `((:SUCCESS ,@PUBLIC::SUCCESS) (:MESSAGE ,@PUBLIC::MESSAGE))))
; 
; caught STYLE-WARNING:
;   The variable DONE-P is defined but never used.
; 
; compilation unit finished
;   caught 2 STYLE-WARNING conditions

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.035
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:03:01 AM):

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.040
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:05:28 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE TASK-GET
;     (PUBLIC::SELECT-TASK-BY-ID)
; 
; caught STYLE-WARNING:
;   The function was called with zero arguments, but wants exactly one.

;     (PUBLIC::DEFINE-ROUTE PUBLIC::TASK-GET
;                           ("task/:id" :TEMPLATE-FILE "task-edit.html.tmpl")
;                           (LET ((PUBLIC::TASK (PUBLIC::SELECT-TASK-BY-ID)))
;                             (LIST :PAGE-TITLE
;                                   (IF PUBLIC::TASK
;                                       (PUBLIC::TITLE PUBLIC::TASK)
;                                       "New Task")
;                                   :TASK PUBLIC::TASK)))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN 
; ==>
;   (SB-IMPL::%DEFUN 'PUBLIC::TASK-GET
;                    (SB-INT:NAMED-LAMBDA PUBLIC::TASK-GET
;                        (PUBLIC::ID)
;                      (BLOCK PUBLIC::TASK-GET
;                        (APPLY 'PUBLIC::FILL-TEMPLATE (APPEND `# # #))))
;                    NIL 'NIL (SB-C:SOURCE-LOCATION))
; 
; caught STYLE-WARNING:
;   The variable ID is defined but never used.
; 
; compilation unit finished
;   caught 2 STYLE-WARNING conditions

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.041
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:05:33 AM):

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.036
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:19:04 AM):

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.035
<FATAL> [11:23:10] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [11:23:10] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10037ABA5B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [11:23:17] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [11:23:17] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1003819A8B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 11:24:36 AM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.028
; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 11:24:36 AM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.030
<FATAL> [11:25:00] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [11:25:00] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100426BA5B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [11:25:01] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [11:25:01] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10042B1A8B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [11:25:03] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [11:25:03] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100430698B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [11:25:15] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [11:25:15] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100437595B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [11:25:17] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [11:25:17] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10043BA93B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 11:24:36 AM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.030
<FATAL> [11:25:33] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [11:25:33] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10047D001B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [11:25:36] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [11:25:36] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100481595B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">
<html xmlns=\"http://www.w3.org/1999/xhtml\">
<head>
<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" />
<title>ToDo Tasks</title>
<style>
   /* Begin Navigation Bar Styling */
   #nav {
      width: 100%;
      float: left;
      margin: 0 0 3em 0;
      padding: 0;
      list-style: none;
      background-color: #f2f2f2;
      border-bottom: 1px solid #ccc; 
      border-top: 1px solid #ccc; }
   #nav li {
      float: left; }
   #nav li a {
      display: block;
      padding: 8px 15px;
      text-decoration: none;
      font-weight: bold;
      color: #069;
      border-right: 1px solid #ccc; }
   #nav li a:hover {
      color: #c00;
      background-color: #fff; }
   /* End navigation bar styling. */
   
   /* This is just styling for this specific page. */
   body {
      background-color: #555; 
      font: small/1.3 Arial, Helvetica, sans-serif; }
   #wrap {
      width: 750px;
      margin: 0 auto;
      background-color: #fff; }
   h1 {
      font-size: 1.5em;
      padding: 1em 8px;
      color: #333;
      background-color: #069;
      margin: 0; }
   #content {
      padding: 0 50px 50px; }
</style>

</head>
<body>
<div id=\"wrap\">
   <h1>My simple to do tasks</h1>
   <ul id=\"nav\">
     <li><a href='/'>Home</a></li>
     <li><a href=''>View tasks</a></li>
     <li><a href=''>Create a new task</a></li>
   </ul>
   <div id=\"content\">
  
<h2> Welcome </h2>
<br/><br/>
<p>This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task. </p>

   </div>
</div>
</body>
</html>
"
PUBLIC> (genurl 'task-get)
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:19:04 AM):

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.040
; Evaluation aborted on #<TYPE-ERROR expected-type: SEQUENCE
             datum: #<ROUTES:VARIABLE-TEMPLATE {1004874483}>>.
PUBLIC> (genurl 'task-get)
; Evaluation aborted on #<TYPE-ERROR expected-type: SEQUENCE
             datum: #<ROUTES:VARIABLE-TEMPLATE {1004FF9113}>>.
PUBLIC> (genurl 'task-get :id "dgd")
; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 11:28:31 AM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.027
"/task/dgd"
PUBLIC> (genurl 'task-get :id "new")
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:29:12 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE TASK-GET
;     (LET ((PUBLIC::TASK
;            (IF (STRING/= PUBLIC::ID "new")
;                (PUBLIC::SELECT-TASK-BY-ID PUBLIC::ID)))
;           (PUBLIC::PARENT-TASKS (PUBLIC::SELECT-PARENT-TASKS-ID-AND-NAME))
;           (LIST
;            :PAGE-TITLE
;            (IF PUBLIC::TASK
;                (PUBLIC::TITLE PUBLIC::TASK)
;                "New Task")
;            :TASK
;            PUBLIC::TASK
;            :PARENT-TASKS
;            PUBLIC::PARENT-TASKS))
;       )
; 
; caught ERROR:
;   The LET binding spec (LIST :PAGE-TITLE
;                              (IF TASK
;                                  (TITLE TASK)
;                                  "New Task")
;                              :TASK TASK :PARENT-TASKS PARENT-TASKS) is malformed.

;     (PUBLIC::DEFINE-ROUTE PUBLIC::TASK-GET
;                           ("task/:id" :TEMPLATE-FILE "task-edit.html.tmpl")
;                           (LET ((PUBLIC::TASK
;                                  (IF #
;                                      #))
;                                 (PUBLIC::PARENT-TASKS
;                                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-NAME))
;                                 (LIST
;                                  :PAGE-TITLE
;                                  (IF PUBLIC::TASK
;                                      #
;                                      "New Task")
;                                  :TASK
;                                  PUBLIC::TASK
;                                  :PARENT-TASKS
;                                  PUBLIC::PARENT-TASKS))
;                             ))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK APPLY MULTIPLE-VALUE-CALL 
; --> VALUES-LIST 
; ==>
;   (APPEND `(,"task-edit.html.tmpl")
;           (LET ((PUBLIC::TASK
;                  (IF #
;                      #))
;                 (PUBLIC::PARENT-TASKS
;                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-NAME))
;                 (LIST
;                  :PAGE-TITLE
;                  (IF PUBLIC::TASK
;                      #
;                      "New Task")
;                  :TASK
;                  PUBLIC::TASK
;                  :PARENT-TASKS
;                  PUBLIC::PARENT-TASKS))
;             )
;           (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET) :NEW-TASK-URL
;                 (PUBLIC::GENURL 'PUBLIC::TASK-GET :ID "new") :TASKS-GET-URL
;                 (PUBLIC::GENURL 'PUBLIC::TASKS-GET :TYPE "all")))
; 
; note: The second argument never returns a value.

; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN 
; ==>
;   (SB-IMPL::%DEFUN 'PUBLIC::TASK-GET
;                    (SB-INT:NAMED-LAMBDA PUBLIC::TASK-GET
;                        (PUBLIC::ID)
;                      (BLOCK PUBLIC::TASK-GET
;                        (APPLY 'PUBLIC::FILL-TEMPLATE (APPEND `# # #))))
;                    NIL 'NIL (SB-C:SOURCE-LOCATION))
; 
; caught STYLE-WARNING:
;   The variable ID is defined but never used.
; 
; compilation unit finished
;   caught 1 ERROR condition
;   caught 1 STYLE-WARNING condition
;   printed 1 note

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.041
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:29:26 AM):

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.039
<FATAL> [11:29:28] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [11:29:28] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1008C5483B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
"/task/new"
PUBLIC> (select-parent-tasks-id-and-name)
; Evaluation aborted on #<CLSQL-SYS:SQL-DATABASE-DATA-ERROR {1003F7F773}>.
PUBLIC> (select-parent-tasks-id-and-title)
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:30:50 AM):

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.035
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:30:50 AM):

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.041
NIL
("ID" "TITLE")
PUBLIC> (select-parent-tasks-id-and-title)
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:32:31 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE TASK-GET
;     (PUBLIC::TITLE PUBLIC::TASK)
; ==>
;   PUBLIC::TASK
; 
; note: deleting unreachable code

;     (PUBLIC::DEFINE-ROUTE PUBLIC::TASK-GET
;                           ("task/:id" :TEMPLATE-FILE "task-edit.html.tmpl")
;                           (LET ((PUBLIC::TASK NIL)
;                                 (PUBLIC::PARENT-TASKS
;                                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;                             (LIST :PAGE-TITLE
;                                   (IF PUBLIC::TASK
;                                       (PUBLIC::TITLE PUBLIC::TASK)
;                                       "New Task")
;                                   :TASK PUBLIC::TASK :PARENT-TASKS
;                                   PUBLIC::PARENT-TASKS)))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN 
; ==>
;   (SB-IMPL::%DEFUN 'PUBLIC::TASK-GET
;                    (SB-INT:NAMED-LAMBDA PUBLIC::TASK-GET
;                        (PUBLIC::ID)
;                      (BLOCK PUBLIC::TASK-GET
;                        (APPLY 'PUBLIC::FILL-TEMPLATE (APPEND `# # #))))
;                    NIL 'NIL (SB-C:SOURCE-LOCATION))
; 
; caught STYLE-WARNING:
;   The variable ID is defined but never used.
; 
; compilation unit finished
;   caught 1 STYLE-WARNING condition
;   printed 1 note

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.037
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:32:42 AM):

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.037
NIL
("ID" "TITLE")
PUBLIC> (macroexpand-1 '(define-route task-get ("task/:id" :template-file "task-edit.html.tmpl")
  (let ((task (if (string/= id "new") (select-task-by-id id)))
	(parent-tasks (select-parent-tasks-id-and-title)))
    (list
     :page-title (if task (title task) "New Task")
     :task task
     :parent-tasks parent-tasks))))
		       
(RESTAS:DEFINE-ROUTE TASK-GET
    ("task/:id" :METHOD :GET :CONTENT-TYPE NIL)
  (APPLY 'FILL-TEMPLATE
         (APPEND `(,"task-edit.html.tmpl")
                 (LET ((TASK
                        (IF (STRING/= ID "new")
                            (SELECT-TASK-BY-ID ID)))
                       (PARENT-TASKS (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                   (LIST :PAGE-TITLE
                         (IF TASK
                             (TITLE TASK)
                             "New Task")
                         :TASK TASK :PARENT-TASKS PARENT-TASKS))
                 (LIST :HOME-URL (GENURL 'HOME-GET) :NEW-TASK-URL
                       (GENURL 'TASK-GET :ID "new") :TASKS-GET-URL
                       (GENURL 'TASKS-GET :TYPE "all")))))
T
PUBLIC> (APPLY 'FILL-TEMPLATE
         (APPEND `(,"task-edit.html.tmpl")
                 (LET ((TASK
                        (IF (STRING/= ID "new")
                            (SELECT-TASK-BY-ID ID)))
                       (PARENT-TASKS (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                   (LIST :PAGE-TITLE
                         (IF TASK
                             (TITLE TASK)
                             "New Task")
                         :TASK TASK :PARENT-TASKS PARENT-TASKS))
                 (LIST :HOME-URL (GENURL 'HOME-GET) :NEW-TASK-URL
                       (GENURL 'TASK-GET :ID "new") :TASKS-GET-URL
                       (GENURL 'TASKS-GET :TYPE "all"))))
; in: APPLY 'FILL-TEMPLATE
;     (STRING/= PUBLIC::ID "new")
; 
; caught WARNING:
;   undefined variable: ID
; 
; compilation unit finished
;   Undefined variable:
;     ID
;   caught 1 WARNING condition
; Evaluation aborted on #<UNBOUND-VARIABLE ID {10087040F3}>.
PUBLIC> (let ((id "new"))APPLY 'FILL-TEMPLATE
         (APPEND `(,"task-edit.html.tmpl")
                 (LET ((TASK
                        (IF (STRING/= ID "new")
                            (SELECT-TASK-BY-ID ID)))
                       (PARENT-TASKS (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                   (LIST :PAGE-TITLE
                         (IF TASK
                             (TITLE TASK)
                             "New Task")
                         :TASK TASK :PARENT-TASKS PARENT-TASKS))
                 (LIST :HOME-URL (GENURL 'HOME-GET) :NEW-TASK-URL
                       (GENURL 'TASK-GET :ID "new") :TASKS-GET-URL
                       (GENURL 'TASKS-GET :TYPE "all"))))

; in: LET ((ID "new"))
;     (LET ((PUBLIC::ID "new"))
;       APPLY
;       'PUBLIC::FILL-TEMPLATE
;       (APPEND `(,"task-edit.html.tmpl")
;               (LET ((PUBLIC::TASK #) (PUBLIC::PARENT-TASKS #))
;                 (LIST :PAGE-TITLE
;                       (IF PUBLIC::TASK
;                           #
;                           "New Task")
;                       :TASK PUBLIC::TASK :PARENT-TASKS PUBLIC::PARENT-TASKS))
;               (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET) :NEW-TASK-URL
;                     (PUBLIC::GENURL 'PUBLIC::TASK-GET :ID "new") :TASKS-GET-URL
;                     (PUBLIC::GENURL 'PUBLIC::TASKS-GET :TYPE "all"))))
; 
; caught WARNING:
;   undefined variable: APPLY
; 
; compilation unit finished
;   Undefined variable:
;     APPLY
;   caught 1 WARNING condition
; Evaluation aborted on #<UNBOUND-VARIABLE APPLY {1008A47773}>.
PUBLIC> (let ((id "new")) 
	  (APPLY 'FILL-TEMPLATE
		 (APPEND `(,"task-edit.html.tmpl")
			 (LET ((TASK
				(IF (STRING/= ID "new")
				    (SELECT-TASK-BY-ID ID)))
			       (PARENT-TASKS (SELECT-PARENT-TASKS-ID-AND-TITLE)))
			   (LIST :PAGE-TITLE
				 (IF TASK
				     (TITLE TASK)
				     "New Task")
				 :TASK TASK :PARENT-TASKS PARENT-TASKS))
			 (LIST :HOME-URL (GENURL 'HOME-GET) :NEW-TASK-URL
			       (GENURL 'TASK-GET :ID "new") :TASKS-GET-URL
			       (GENURL 'TASKS-GET :TYPE "all")))))
<FATAL> [11:34:19] public template-utils.lisp (fill-template) -
  ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  

; in: LAMBDA ()
;     (TEMPLATE-VARIABLE "task")
; 
; caught STYLE-WARNING:
;   undefined function: COMMON-LISP-USER::TEMPLATE-VARIABLE
; 
; compilation unit finished
;   Undefined function:
;     COMMON-LISP-USER::TEMPLATE-VARIABLE
;   caught 1 STYLE-WARNING condition
; 
; caught STYLE-WARNING:
;   undefined function: COMMON-LISP-USER::TEMPLATE-VARIABLE
; 
; compilation unit finished
;   Undefined function:
;     COMMON-LISP-USER::TEMPLATE-VARIABLE
;   caught 1 STYLE-WARNING condition
<FATAL> [11:34:19] public template-utils.lisp (fill-template) -
  FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING) {1008D39ECB}>
  FILE: "task-edit.html.tmpl" 
"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">
<html>
<head>
<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" />
<title>ToDo Tasks</title>
<style>
   /* Begin Navigation Bar Styling */
   #nav {
      width: 100%;
      float: left;
      margin: 0 0 3em 0;
      padding: 0;
      list-style: none;
      background-color: #f2f2f2;
      border-bottom: 1px solid #ccc; 
      border-top: 1px solid #ccc; }
   #nav li {
      float: left; }
   #nav li a {
      display: block;
      padding: 8px 15px;
      text-decoration: none;
      font-weight: bold;
      color: #069;
      border-right: 1px solid #ccc; }
   #nav li a:hover {
      color: #c00;
      background-color: #fff; }
   /* End navigation bar styling. */
   
   /* This is just styling for this specific page. */
   body {
      background-color: #555; 
      font: small/1.3 Arial, Helvetica, sans-serif; }
   #wrap {
      width: 750px;
      margin: 0 auto;
      background-color: #fff; }
   h1 {
      font-size: 1.5em;
      padding: 1em 8px;
      color: #333;
      background-color: #069;
      margin: 0; }
   #content {
      padding: 0 50px 50px; }
</style>

</head>
<body>
<div id=\"wrap\">
   <h1>My simple to do tasks</h1>
   <ul id=\"nav\">
     <li><a href='/'>Home</a></li>
     <li><a href='/tasks/all'>View tasks</a></li>
     <li><a href='/task/new'>Create a new task</a></li>
   </ul>
   <div id=\"content\">
     <h2> New Task </h2>
  
<br/><br/>
<div class=\"row\">
  <div class=\"half-row\">
    <label>Title*</label>
    <input type=\"text\" value=\"\">
  </div>
  <div class=\"half-row\">
    <label>Due date*</label>
    <input type=\"date\" placeholder=\"yyyy-mm-dd\" value=\"\">
  </div>
</div>
<div class=\"row\">
  <div class=\"half-row\">
    <label>Description</label>
    <input type=\"text\" value=\"\">
  </div>
  <div class=\"half-row\">
    <label>Parent</label>
    <select name=\"carlist\" form=\"carform\">
      
    </select>
  </div>
</div>
<label> 

   </div>
</div>
</body>
</html>
"
PUBLIC> (let ((id "new")) 
	  (APPLY 'FILL-TEMPLATE
		 (APPEND `(,"task-edit.html.tmpl")
			 (LET ((TASK
				(IF (STRING/= ID "new")
				    (SELECT-TASK-BY-ID ID)))
			       (PARENT-TASKS (SELECT-PARENT-TASKS-ID-AND-TITLE)))
			   (LIST :PAGE-TITLE
				 (IF TASK
				     (TITLE TASK)
				     "New Task")
				 :TASK TASK :PARENT-TASKS PARENT-TASKS))
			 (LIST :HOME-URL (GENURL 'HOME-GET) :NEW-TASK-URL
			       (GENURL 'TASK-GET :ID "new") :TASKS-GET-URL
			       (GENURL 'TASKS-GET :TYPE "all")))))
<FATAL> [11:34:30] public template-utils.lisp (fill-template) -
  ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
; 
; caught STYLE-WARNING:
;   undefined function: COMMON-LISP-USER::TEMPLATE-VARIABLE
; 
; compilation unit finished
;   Undefined function:
;     COMMON-LISP-USER::TEMPLATE-VARIABLE
;   caught 1 STYLE-WARNING condition
; 
; caught STYLE-WARNING:
;   undefined function: COMMON-LISP-USER::TEMPLATE-VARIABLE
; 
; compilation unit finished
;   Undefined function:
;     COMMON-LISP-USER::TEMPLATE-VARIABLE
;   caught 1 STYLE-WARNING condition
<FATAL> [11:34:30] public template-utils.lisp (fill-template) -
  FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING) {1008EB427B}>
  FILE: "task-edit.html.tmpl" 
"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">
<html>
<head>
<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" />
<title>ToDo Tasks</title>
<style>
   /* Begin Navigation Bar Styling */
   #nav {
      width: 100%;
      float: left;
      margin: 0 0 3em 0;
      padding: 0;
      list-style: none;
      background-color: #f2f2f2;
      border-bottom: 1px solid #ccc; 
      border-top: 1px solid #ccc; }
   #nav li {
      float: left; }
   #nav li a {
      display: block;
      padding: 8px 15px;
      text-decoration: none;
      font-weight: bold;
      color: #069;
      border-right: 1px solid #ccc; }
   #nav li a:hover {
      color: #c00;
      background-color: #fff; }
   /* End navigation bar styling. */
   
   /* This is just styling for this specific page. */
   body {
      background-color: #555; 
      font: small/1.3 Arial, Helvetica, sans-serif; }
   #wrap {
      width: 750px;
      margin: 0 auto;
      background-color: #fff; }
   h1 {
      font-size: 1.5em;
      padding: 1em 8px;
      color: #333;
      background-color: #069;
      margin: 0; }
   #content {
      padding: 0 50px 50px; }
</style>

</head>
<body>
<div id=\"wrap\">
   <h1>My simple to do tasks</h1>
   <ul id=\"nav\">
     <li><a href='/'>Home</a></li>
     <li><a href='/tasks/all'>View tasks</a></li>
     <li><a href='/task/new'>Create a new task</a></li>
   </ul>
   <div id=\"content\">
     <h2> New Task </h2>
  
<br/><br/>
<div class=\"row\">
  <div class=\"half-row\">
    <label>Title*</label>
    <input type=\"text\" value=\"\">
  </div>
  <div class=\"half-row\">
    <label>Due date*</label>
    <input type=\"date\" placeholder=\"yyyy-mm-dd\" value=\"\">
  </div>
</div>
<div class=\"row\">
  <div class=\"half-row\">
    <label>Description</label>
    <input type=\"text\" value=\"\">
  </div>
  <div class=\"half-row\">
    <label>Parent</label>
    <select name=\"carlist\" form=\"carform\">
      
    </select>
  </div>
</div>
<label> 

   </div>
</div>
</body>
</html>
"
PUBLIC> (let ((id "new")) 
	  (APPLY 'FILL-TEMPLATE
		 (APPEND `(,"task-edit.html.tmpl")
			 (LET ((TASK
				(IF (STRING/= ID "new")
				    (SELECT-TASK-BY-ID ID)))
			       (PARENT-TASKS (SELECT-PARENT-TASKS-ID-AND-TITLE)))
			   (LIST :PAGE-TITLE
				 (IF TASK
				     (TITLE TASK)
				     "New Task")
				 :TASK TASK :PARENT-TASKS PARENT-TASKS))
			 (LIST :HOME-URL (GENURL 'HOME-GET) :NEW-TASK-URL
			       (GENURL 'TASK-GET :ID "new") :TASKS-GET-URL
			       (GENURL 'TASKS-GET :TYPE "all")))))
<FATAL> [11:35:35] public template-utils.lisp (fill-template) -
  ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
; 
; caught STYLE-WARNING:
;   undefined function: COMMON-LISP-USER::TEMPLATE-VARIABLE
; 
; compilation unit finished
;   Undefined function:
;     COMMON-LISP-USER::TEMPLATE-VARIABLE
;   caught 1 STYLE-WARNING condition
; 
; caught STYLE-WARNING:
;   undefined function: COMMON-LISP-USER::TEMPLATE-VARIABLE
; 
; compilation unit finished
;   Undefined function:
;     COMMON-LISP-USER::TEMPLATE-VARIABLE
;   caught 1 STYLE-WARNING condition
<FATAL> [11:35:35] public template-utils.lisp (fill-template) -
  FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING) {1009B2EE5B}>
  FILE: "task-edit.html.tmpl" 
"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">
<html>
<head>
<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" />
<title>ToDo Tasks</title>
<style>
   /* Begin Navigation Bar Styling */
   #nav {
      width: 100%;
      float: left;
      margin: 0 0 3em 0;
      padding: 0;
      list-style: none;
      background-color: #f2f2f2;
      border-bottom: 1px solid #ccc; 
      border-top: 1px solid #ccc; }
   #nav li {
      float: left; }
   #nav li a {
      display: block;
      padding: 8px 15px;
      text-decoration: none;
      font-weight: bold;
      color: #069;
      border-right: 1px solid #ccc; }
   #nav li a:hover {
      color: #c00;
      background-color: #fff; }
   /* End navigation bar styling. */
   
   /* This is just styling for this specific page. */
   body {
      background-color: #555; 
      font: small/1.3 Arial, Helvetica, sans-serif; }
   #wrap {
      width: 750px;
      margin: 0 auto;
      background-color: #fff; }
   h1 {
      font-size: 1.5em;
      padding: 1em 8px;
      color: #333;
      background-color: #069;
      margin: 0; }
   #content {
      padding: 0 50px 50px; }
</style>

</head>
<body>
<div id=\"wrap\">
   <h1>My simple to do tasks</h1>
   <ul id=\"nav\">
     <li><a href='/'>Home</a></li>
     <li><a href='/tasks/all'>View tasks</a></li>
     <li><a href='/task/new'>Create a new task</a></li>
   </ul>
   <div id=\"content\">
     <h2> New Task </h2>
  
<br/><br/>
<div class=\"row\">
  <div class=\"half-row\">
    <label>Title*</label>
    <input type=\"text\" value=\"\">
  </div>
  <div class=\"half-row\">
    <label>Due date*</label>
    <input type=\"date\" placeholder=\"yyyy-mm-dd\" value=\"\">
  </div>
</div>
<div class=\"row\">
  <div class=\"half-row\">
    <label>Description</label>
    <input type=\"text\" value=\"\">
  </div>
  <div class=\"half-row\">
    <label>Parent</label>
    <select name=\"carlist\" form=\"carform\">
      
      <option value=\"\">Not Applicable</option>
    </select>
  </div>
</div>
<label> 

   </div>
</div>
</body>
</html>
"
PUBLIC> (let ((id "new")) 
	  (APPLY 'FILL-TEMPLATE
		 (APPEND `(,"task-edit.html.tmpl")
			 (LET ((TASK
				(IF (STRING/= ID "new")
				    (SELECT-TASK-BY-ID ID)))
			       (PARENT-TASKS (SELECT-PARENT-TASKS-ID-AND-TITLE)))
			   (LIST :PAGE-TITLE
				 (IF TASK
				     (TITLE TASK)
				     "New Task")
				 :TASK TASK :PARENT-TASKS PARENT-TASKS))
			 (LIST :HOME-URL (GENURL 'HOME-GET) :NEW-TASK-URL
			       (GENURL 'TASK-GET :ID "new") :TASKS-GET-URL
			       (GENURL 'TASKS-GET :TYPE "all")))))
<FATAL> [11:36:08] public template-utils.lisp (fill-template) -
  ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
; 
; caught STYLE-WARNING:
;   undefined function: COMMON-LISP-USER::TEMPLATE-VARIABLE
; 
; compilation unit finished
;   Undefined function:
;     COMMON-LISP-USER::TEMPLATE-VARIABLE
;   caught 1 STYLE-WARNING condition
; 
; caught STYLE-WARNING:
;   undefined function: COMMON-LISP-USER::TEMPLATE-VARIABLE
; 
; compilation unit finished
;   Undefined function:
;     COMMON-LISP-USER::TEMPLATE-VARIABLE
;   caught 1 STYLE-WARNING condition
<FATAL> [11:36:08] public template-utils.lisp (fill-template) -
  FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING) {10035B769B}>
  FILE: "task-edit.html.tmpl" 
"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">
<html>
<head>
<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" />
<title>ToDo Tasks</title>
<style>
   /* Begin Navigation Bar Styling */
   #nav {
      width: 100%;
      float: left;
      margin: 0 0 3em 0;
      padding: 0;
      list-style: none;
      background-color: #f2f2f2;
      border-bottom: 1px solid #ccc; 
      border-top: 1px solid #ccc; }
   #nav li {
      float: left; }
   #nav li a {
      display: block;
      padding: 8px 15px;
      text-decoration: none;
      font-weight: bold;
      color: #069;
      border-right: 1px solid #ccc; }
   #nav li a:hover {
      color: #c00;
      background-color: #fff; }
   /* End navigation bar styling. */
   
   /* This is just styling for this specific page. */
   body {
      background-color: #555; 
      font: small/1.3 Arial, Helvetica, sans-serif; }
   #wrap {
      width: 750px;
      margin: 0 auto;
      background-color: #fff; }
   h1 {
      font-size: 1.5em;
      padding: 1em 8px;
      color: #333;
      background-color: #069;
      margin: 0; }
   #content {
      padding: 0 50px 50px; }
</style>

</head>
<body>
<div id=\"wrap\">
   <h1>My simple to do tasks</h1>
   <ul id=\"nav\">
     <li><a href='/'>Home</a></li>
     <li><a href='/tasks/all'>View tasks</a></li>
     <li><a href='/task/new'>Create a new task</a></li>
   </ul>
   <div id=\"content\">
     <h2> New Task </h2>
  
<br/><br/>
<div class=\"row\">
  <div class=\"half-row\">
    <label>Title*</label>
    <input type=\"text\" value=\"\">
  </div>
  <div class=\"half-row\">
    <label>Due date*</label>
    <input type=\"date\" placeholder=\"yyyy-mm-dd\" value=\"\">
  </div>
</div>
<div class=\"row\">
  <div class=\"half-row\">
    <label>Description</label>
    <input type=\"text\" value=\"\">
  </div>
  <div class=\"half-row\">
    <label>Parent</label>
    <select id=\"paren-task\">
      
      <option value=\"\">Not Applicable</option>
    </select>
  </div>
</div>
<label> 

   </div>
</div>
</body>
</html>
"
PUBLIC> (let* (((id "new") (task (if (string/= id "new") (select-task-by-id id)))
	(parent-tasks (select-parent-tasks-id-and-title)))
    (list
     :page-title (if task (title task) "New Task")
     :task task
     :parent-tasks parent-tasks))
	  )
; in:
;      LET* (((ID "new")
;         (TASK
;          (IF (STRING/= ID "new")
;              (SELECT-TASK-BY-ID ID)))
;         (PARENT-TASKS (SELECT-PARENT-TASKS-ID-AND-TITLE)))
;        (LIST :PAGE-TITLE
;              (IF TASK
;                  (TITLE TASK)
;                  "New Task")
;              :TASK TASK :PARENT-TASKS PARENT-TASKS))
;     (LET* (((PUBLIC::ID "new")
;             (PUBLIC::TASK
;              (IF #
;                  #))
;             (PUBLIC::PARENT-TASKS (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;            (LIST
;             :PAGE-TITLE
;             (IF PUBLIC::TASK
;                 (PUBLIC::TITLE PUBLIC::TASK)
;                 "New Task")
;             :TASK
;             PUBLIC::TASK
;             :PARENT-TASKS
;             PUBLIC::PARENT-TASKS))
;       )
; 
; caught ERROR:
;   The LET* binding spec ((ID "new")
;                          (TASK
;                           (IF (STRING/= ID "new")
;                               (SELECT-TASK-BY-ID ID)))
;                          (PARENT-TASKS (SELECT-PARENT-TASKS-ID-AND-TITLE))) is malformed.
; 
; compilation unit finished
;   caught 1 ERROR condition
; Evaluation aborted on #<SB-INT:COMPILED-PROGRAM-ERROR {1003A349C3}>.
PUBLIC> (let* ((id "new") (task (if (string/= id "new") (select-task-by-id id)))
	(parent-tasks (select-parent-tasks-id-and-title)))
    (list
     :page-title (if task (title task) "New Task")
     :task task
     :parent-tasks parent-tasks))
	  

; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:39:41 AM):

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.036
<FATAL> [11:39:55] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [11:39:55] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100490552B}>
  PUBLIC::FILE: "home.html.tmpl" 
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:40:37 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE TASK-GET
;     (LET ((PUBLIC::TASK (PUBLIC::SELECT-TASK-BY-ID (PUBLIC::DATA-PARAM "id"))))
;       (PUBLIC::PARENT-TASKS (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
; 
; caught STYLE-WARNING:
;   The variable TASK is defined but never used.

;     (LIST :PAGE-TITLE
;           (IF PUBLIC::TASK
;               (PUBLIC::TITLE PUBLIC::TASK)
;               "New Task")
;           :TASK PUBLIC::TASK :PARENT-TASKS PUBLIC::PARENT-TASKS)
; 
; caught WARNING:
;   undefined variable: PARENT-TASKS

;     (PUBLIC::PARENT-TASKS (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE))
; 
; caught STYLE-WARNING:
;   undefined function: PARENT-TASKS

;     (IF PUBLIC::TASK
;         (PUBLIC::TITLE PUBLIC::TASK)
;         "New Task")
; 
; caught WARNING:
;   undefined variable: TASK
; 
; compilation unit finished
;   Undefined function:
;     PARENT-TASKS
;   Undefined variables:
;     PARENT-TASKS TASK
;   caught 2 WARNING conditions
;   caught 2 STYLE-WARNING conditions

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.042
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 11:41:08 AM):

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.035
<FATAL> [11:41:15] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [11:41:15] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1007F0608B}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [11:43:29] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [11:43:29] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100811A45B}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [11:43:30] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [11:43:30] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10081E03EB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [11:43:31] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [11:43:31] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10082ADB6B}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [11:43:45] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [11:43:45] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100839326B}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [11:47:56] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [11:47:56] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10086F06FB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [11:53:13] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [11:53:13] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1008C3FBCB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [11:53:27] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [11:53:27] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1008D7B2CB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [11:54:13] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [11:54:13] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1008F195EB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [11:57:13] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [11:57:13] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100386D8DB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 

; compiling file "/home/marc/quicklisp/local-projects/themouallem/constants.lisp" (written 06 SEP 2014 12:02:02 PM):

; /home/marc/quicklisp/local-projects/themouallem/constants.fasl written
; compilation finished in 0:00:00.019
(:PAGE-TITLE "New Task" :TASK NIL :PARENT-TASKS NIL)
PUBLIC> (merge-pathnames *js-directory* "marc")
<FATAL> [12:07:05] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:07:05] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10045B9FEB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 

; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 12:07:16 PM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.032
<FATAL> [12:07:17] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:07:17] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1004AF9AEB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [12:07:51] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:07:51] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1004CC872B}>
  PUBLIC::FILE: "task-edit.html.tmpl" 

; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 12:08:03 PM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.024
<FATAL> [12:08:04] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:08:04] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100527652B}>
  PUBLIC::FILE: "task-edit.html.tmpl" 

; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 12:08:16 PM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.025
<FATAL> [12:08:19] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:08:19] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100783652B}>
  PUBLIC::FILE: "task-edit.html.tmpl" 

; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 12:08:30 PM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.019
<FATAL> [12:08:32] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:08:32] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1008156D3B}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [12:08:43] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:08:43] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10082B2FFB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [12:09:20] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:09:20] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10084A71EB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [12:09:37] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:09:37] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100862B6DB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [12:09:43] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:09:43] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10088C009B}>
  PUBLIC::FILE: "task-edit.html.tmpl" 

; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 12:08:30 PM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.026
<FATAL> [12:09:51] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:09:51] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1008E0DFBB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 

; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 12:10:10 PM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.045
<FATAL> [12:10:22] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:10:22] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1003A3679B}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [12:10:25] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [12:10:25] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1003AEDEAB}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [12:10:27] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [12:10:27] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1003B7E57B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [12:10:30] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [12:10:30] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1003C2D23B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [12:10:33] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [12:10:33] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1003CBE30B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [12:11:03] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [12:11:03] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1003DB4F8B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [12:11:04] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [12:11:04] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1003E64F8B}>
  PUBLIC::FILE: "tasks.html.tmpl" 

; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 12:10:10 PM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.025
<FATAL> [12:11:12] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [12:11:12] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1004310E6B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [12:11:18] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:11:18] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100448523B}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [12:12:09] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:12:09] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100466F82B}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
#P"/home/marc/quicklisp/local-projects/themouallem/javascript/marc"
PUBLIC> (ql:quickload :themouallem)
To load "themouallem":
  Load 1 ASDF system:
    themouallem
; Loading "themouallem"
[package public]...
 <WARN> [12:12:41] public setup.lisp (setup-db) -
  (CLSQL-SYS:SQL-ERROR-DATABASE-MESSAGE
   SQL-ERROR): "Table 'TASKS' already exists"
  

<FATAL> [12:12:42] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:12:42] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10044D67CB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 

; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 12:12:52 PM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.026
(:THEMOUALLEM)
PUBLIC> (restas:stop-all)
NIL
PUBLIC> (ql:quickload :themouallem)
To load "themouallem":
  Load 1 ASDF system:
    themouallem
; Loading "themouallem"
...
 <WARN> [12:13:07] public setup.lisp (setup-db) -
  (CLSQL-SYS:SQL-ERROR-DATABASE-MESSAGE
   SQL-ERROR): "Table 'TASKS' already exists"
  

<FATAL> [12:13:08] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:13:08] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1009FBABAB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [12:13:15] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [12:13:15] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100A464A3B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [12:13:15] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [12:13:15] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1003EE679B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [12:13:16] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:13:16] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10040747CB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [12:13:17] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [12:13:17] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1004115D2B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [12:13:18] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [12:13:18] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10041C057B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [12:13:19] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:13:19] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100432801B}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [12:13:20] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [12:13:20] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10043C898B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [12:13:28] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [12:13:28] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10044536AB}>
  PUBLIC::FILE: "home.html.tmpl" 

; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 12:13:40 PM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.028
<FATAL> [12:13:42] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [12:13:42] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {100493343B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [12:13:43] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [12:13:43] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10049DE7CB}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [12:13:45] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [12:13:45] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1004A6DC0B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [12:13:45] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/home.html.tmpl"
  
<FATAL> [12:13:45] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1004AF862B}>
  PUBLIC::FILE: "home.html.tmpl" 
<FATAL> [12:13:48] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [12:13:48] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1004B97D3B}>
  PUBLIC::FILE: "tasks.html.tmpl" 
<FATAL> [12:13:49] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:13:49] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1004D0AFFB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 

; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 12:14:08 PM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.024
<FATAL> [12:14:09] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:14:09] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10052B0F9B}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [12:14:12] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [12:14:12] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1005341D3B}>
  PUBLIC::FILE: "tasks.html.tmpl" 

; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 12:14:08 PM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.025
<FATAL> [12:14:20] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/task-edit.html.tmpl"
  
<FATAL> [12:14:20] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {10078B53BB}>
  PUBLIC::FILE: "task-edit.html.tmpl" 
<FATAL> [12:14:21] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [12:14:21] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1007CDEB1B}>
  PUBLIC::FILE: "tasks.html.tmpl" 

; compiling file "/home/marc/quicklisp/local-projects/themouallem/macros.lisp" (written 06 SEP 2014 12:14:08 PM):

; /home/marc/quicklisp/local-projects/themouallem/macros.fasl written
; compilation finished in 0:00:00.021
(:THEMOUALLEM)
PUBLIC> (defmacro define-route (name 
			(url &key (method :get) template-file content-type)
			&rest body)
  "This macro will pack and provide html content. 
Variables are:
name: the name of the route
url: the url of the route.
method: a post or get method
template-file: is the file path that will fill the page
content-type: is the route content type (eg. 'application/json')"
  (if (> (length body) 1)
      (setf body `((progn ,@body))))
  `(restas:define-route ,name (,url :method ,method :content-type ,content-type)
     (apply 'fill-template 
	    (append `(,,template-file)
		    ,@body
		    (list
		     :js-directory *js-directory*
		     :js-files '("project.js")
		     :home-url (genurl 'home-get)
		     :new-task-url (genurl 'task-get)
		     :tasks-get-url (genurl 'tasks-get :type "all"))))))
STYLE-WARNING: redefining PUBLIC::DEFINE-ROUTE in DEFMACRO
<FATAL> [12:14:35] public template-utils.lisp (fill-template) -
  PUBLIC::ORIGINAL-FILE: #P"/home/marc/quicklisp/local-projects/themouallem/templates/tasks.html.tmpl"
  
<FATAL> [12:14:35] public template-utils.lisp (fill-template) -
  PUBLIC::FUNC: #<CLOSURE (LAMBDA # :IN DJULA::COMPILE-STRING)
                  {1008287DFB}>
  PUBLIC::FILE: "tasks.html.tmpl" 
DEFINE-ROUTE
PUBLIC> 