; SLIME 2013-06-26
CL-USER> (ql:quickload :themouallem)
To load "themouallem":
  Load 1 ASDF system:
    themouallem
; Loading "themouallem"
.........................; 
                         ; compilation unit aborted
                         ;   caught 3 fatal ERROR conditions

; compiling file "/home/marc/quicklisp/local-projects/themouallem/setup.lisp" (written 06 SEP 2014 08:02:22 AM):
; 
; compilation unit aborted
;   caught 1 fatal ERROR condition
; compilation aborted after 0:00:02.514
; compiling file "/home/marc/quicklisp/local-projects/themouallem/modules.lisp" (written 06 SEP 2014 08:02:47 AM):

; /home/marc/quicklisp/local-projects/themouallem/modules.fasl written
; compilation finished in 0:00:00.001
; Evaluation aborted on #<SB-KERNEL:SIMPLE-PACKAGE-ERROR "The name ~S does not designate any package." {100AE35BA3}>.
CL-USER> (ql:quickload :themouallem)
To load "themouallem":
  Load 1 ASDF system:
    themouallem
; Loading "themouallem"
[package public]..........
 <WARN> [08:03:14] public setup.lisp (setup-db) -
  (CLSQL-SYS:SQL-ERROR-DATABASE-MESSAGE
   SQL-ERROR): "Table 'TASKS' already exists"
  
.
; compiling file "/home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp" (written 06 SEP 2014 08:12:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp
; in: DBFUNC SELECT-TASK-BY-ID
;     (PUBLIC::DBFUNC PUBLIC::SELECT-TASK-BY-ID (PUBLIC::ID)
;                     (FIRST
;                      (CLSQL-SYS:SELECT 'PUBLIC::TASK :FLATP T :REFRESH T
;                                        :DATABASE PUBLIC::CURRENT-DB :WHERE
;                                        PUBLIC::[= PUBLIC::[ID] PUBLIC::ID])))
; --> DEFUN PROGN EVAL-WHEN 
; ==>
;   (SB-IMPL::%DEFUN 'PUBLIC::SELECT-TASK-BY-ID
;                    (SB-INT:NAMED-LAMBDA PUBLIC::SELECT-TASK-BY-ID
;                        (PUBLIC::ID)
;                      (BLOCK PUBLIC::SELECT-TASK-BY-ID
;                        (LET (#)
;                          (FUNCALL PUBLIC::TEMP-FUNC-NAME))))
;                    "A database function" 'NIL (SB-C:SOURCE-LOCATION))
; 
; caught STYLE-WARNING:
;   The variable ID is defined but never used.

; in: DBFUNC SELECT-PARENT-TASKS-ID-AND-NAME
;     (CLSQL-SYS:SELECT PUBLIC::[ID] PUBLIC::[NAME] :FROM PUBLIC::[TASKS]
;                       PUBLIC::FLATP T :REFRESH T :DATABASE PUBLIC::CURRENT-DB
;                       :WHERE ...)
; 
; caught WARNING:
;   undefined variable: FLATP

; in: DBFUNC SELECT-TASK-BY-ID
;     (CLSQL-SYS:SELECT 'PUBLIC::TASK :FLATP T :REFRESH T :DATABASE
;                       PUBLIC::CURRENT-DB :WHERE PUBLIC::[= PUBLIC::[ID]
;                       PUBLIC::ID])
; 
; caught WARNING:
;   undefined variable: ID]

; in: DBFUNC INSERT-TASK
;     (PUBLIC::MAKE-UUID-STRING64)
; 
; caught STYLE-WARNING:
;   undefined function: MAKE-UUID-STRING64

; in: DBFUNC SELECT-PARENT-TASKS-ID-AND-NAME
;     (CLSQL-SYS:SELECT PUBLIC::[ID] PUBLIC::[NAME] :FROM PUBLIC::[TASKS]
;                       PUBLIC::FLATP T :REFRESH T :DATABASE PUBLIC::CURRENT-DB
;                       :WHERE ...)
; 
; caught WARNING:
;   undefined variable: NIL]

; in: DBFUNC SELECT-ALL-PARENT-TASKS
;     (CLSQL-SYS:SELECT 'PUBLIC::TASK :FLATP T :REFRESH T :DATABASE
;                       PUBLIC::CURRENT-DB :WHERE PUBLIC::[IS PUBLIC::[PARENT-ID]
;                       PUBLIC::NIL])
; 
; caught WARNING:
;   undefined variable: NIL]

; in: DBFUNC SELECT-TASK-BY-ID
;     (CLSQL-SYS:SELECT 'PUBLIC::TASK :FLATP T :REFRESH T :DATABASE
;                       PUBLIC::CURRENT-DB :WHERE PUBLIC::[= PUBLIC::[ID]
;                       PUBLIC::ID])
; 
; caught WARNING:
;   undefined variable: [=

; in: DBFUNC SELECT-PARENT-TASKS-ID-AND-NAME
;     (CLSQL-SYS:SELECT PUBLIC::[ID] PUBLIC::[NAME] :FROM PUBLIC::[TASKS]
;                       PUBLIC::FLATP T :REFRESH T :DATABASE PUBLIC::CURRENT-DB
;                       :WHERE ...)
; 
; caught WARNING:
;   undefined variable: [ID]

; in: DBFUNC SELECT-TASK-BY-ID
;     (CLSQL-SYS:SELECT 'PUBLIC::TASK :FLATP T :REFRESH T :DATABASE
;                       PUBLIC::CURRENT-DB :WHERE PUBLIC::[= PUBLIC::[ID]
;                       PUBLIC::ID])
; 
; caught WARNING:
;   undefined variable: [ID]

; in: DBFUNC SELECT-PARENT-TASKS-ID-AND-NAME
;     (CLSQL-SYS:SELECT PUBLIC::[ID] PUBLIC::[NAME] :FROM PUBLIC::[TASKS]
;                       PUBLIC::FLATP T :REFRESH T :DATABASE PUBLIC::CURRENT-DB
;                       :WHERE ...)
; 
; caught WARNING:
;   undefined variable: [IS

; in: DBFUNC SELECT-ALL-PARENT-TASKS
;     (CLSQL-SYS:SELECT 'PUBLIC::TASK :FLATP T :REFRESH T :DATABASE
;                       PUBLIC::CURRENT-DB :WHERE PUBLIC::[IS PUBLIC::[PARENT-ID]
;                       PUBLIC::NIL])
; 
; caught WARNING:
;   undefined variable: [IS

; in: DBFUNC SELECT-PARENT-TASKS-ID-AND-NAME
;     (CLSQL-SYS:SELECT PUBLIC::[ID] PUBLIC::[NAME] :FROM PUBLIC::[TASKS]
;                       PUBLIC::FLATP T :REFRESH T :DATABASE PUBLIC::CURRENT-DB
;                       :WHERE ...)
; 
; caught WARNING:
;   undefined variable: [NAME]
; 
; caught WARNING:
;   undefined variable: [PARENT-ID]

; in: DBFUNC SELECT-ALL-PARENT-TASKS
;     (CLSQL-SYS:SELECT 'PUBLIC::TASK :FLATP T :REFRESH T :DATABASE
;                       PUBLIC::CURRENT-DB :WHERE PUBLIC::[IS PUBLIC::[PARENT-ID]
;                       PUBLIC::NIL])
; 
; caught WARNING:
;   undefined variable: [PARENT-ID]

; in: DBFUNC SELECT-PARENT-TASKS-ID-AND-NAME
;     (CLSQL-SYS:SELECT PUBLIC::[ID] PUBLIC::[NAME] :FROM PUBLIC::[TASKS]
;                       PUBLIC::FLATP T :REFRESH T :DATABASE PUBLIC::CURRENT-DB
;                       :WHERE ...)
; 
; caught WARNING:
;   undefined variable: [TASKS]
; 
; compilation unit finished
;   Undefined function:
;     MAKE-UUID-STRING64
;   Undefined variables:
;     FLATP ID] NIL] [= [ID] [IS [NAME] [PARENT-ID] [TASKS]
;   caught 13 WARNING conditions
;   caught 2 STYLE-WARNING conditions

; /home/marc/quicklisp/local-projects/themouallem/db-models/task.fasl written
; compilation finished in 0:00:00.063
; compiling file "/home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp" (written 06 SEP 2014 08:12:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp
; in: DBFUNC SELECT-PARENT-TASKS-ID-AND-NAME
;     (CLSQL-SYS:SELECT #<CLSQL-SYS:SQL-IDENT-ATTRIBUTE ID>
;                       #<CLSQL-SYS:SQL-IDENT-ATTRIBUTE NAME> :FROM
;                       #<CLSQL-SYS:SQL-IDENT-ATTRIBUTE TASKS> PUBLIC::FLATP T
;                       :REFRESH T :DATABASE PUBLIC::CURRENT-DB :WHERE ...)
; 
; caught WARNING:
;   undefined variable: FLATP

; in: DBFUNC INSERT-TASK
;     (PUBLIC::MAKE-UUID-STRING64)
; 
; caught STYLE-WARNING:
;   undefined function: MAKE-UUID-STRING64
; 
; compilation unit finished
;   Undefined function:
;     MAKE-UUID-STRING64
;   Undefined variable:
;     FLATP
;   caught 1 WARNING condition
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/db-models/task.fasl written
; compilation finished in 0:00:00.038
; compiling file "/home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp" (written 06 SEP 2014 08:12:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp
; in: DBFUNC SELECT-PARENT-TASKS-ID-AND-NAME
;     (CLSQL-SYS:SELECT #<CLSQL-SYS:SQL-IDENT-ATTRIBUTE ID>
;                       #<CLSQL-SYS:SQL-IDENT-ATTRIBUTE NAME> :FROM
;                       #<CLSQL-SYS:SQL-IDENT-ATTRIBUTE TASKS> PUBLIC::FLATP T
;                       :REFRESH T :DATABASE PUBLIC::CURRENT-DB :WHERE ...)
; 
; caught WARNING:
;   undefined variable: FLATP

; in: DBFUNC INSERT-TASK
;     (PUBLIC::MAKE-UUID-STRING64)
; 
; caught STYLE-WARNING:
;   undefined function: MAKE-UUID-STRING64
; 
; compilation unit finished
;   Undefined function:
;     MAKE-UUID-STRING64
;   Undefined variable:
;     FLATP
;   caught 1 WARNING condition
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/db-models/task.fasl written
; compilation finished in 0:00:00.040
; compiling file "/home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp" (written 06 SEP 2014 08:12:30 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp
; in: DBFUNC INSERT-TASK
;     (PUBLIC::MAKE-UUID-STRING64)
; 
; caught STYLE-WARNING:
;   undefined function: MAKE-UUID-STRING64
; 
; compilation unit finished
;   Undefined function:
;     MAKE-UUID-STRING64
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/db-models/task.fasl written
; compilation finished in 0:00:00.037
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/logic-utils.lisp" (written 04 SEP 2014 11:46:59 PM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/logic-utils.fasl written
; compilation finished in 0:00:00.005
; compiling file "/home/marc/quicklisp/local-projects/themouallem/db-models/task.lisp" (written 06 SEP 2014 08:13:51 AM):

; /home/marc/quicklisp/local-projects/themouallem/db-models/task.fasl written
; compilation finished in 0:00:00.056
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 08:14:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE HOME-GET
;     (PUBLIC::DEFINE-ROUTE PUBLIC::HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME
;                                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME)))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK 
; ==>
;   (PUBLIC::FILL-TEMPLATE "home.html.tmpl"
;                          (APPEND
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME #))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME))
;                           (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET))))
; 
; caught STYLE-WARNING:
;   The function has an odd number of arguments in the keyword portion.
; 
; compilation unit finished
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.017
(:THEMOUALLEM)
CL-USER> (macroexpand-1 '(define-route home-get ("" :template-file "home.html.tmpl")
  (let ((parents-task-id-name (select-parent-tasks-id-and-title)))
    (list
     :page-title "Welcome"
     :project-description "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
     :parents-tasks-id-name parents-task-id-name))))
		       
(DEFINE-ROUTE HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
 (LET ((PARENTS-TASK-ID-NAME (SELECT-PARENT-TASKS-ID-AND-TITLE)))
   (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
         "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
         :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME)))
NIL
CL-USER> (macroexpand-1 '(define-route home-get ("" :template-file "home.html.tmpl")
  (let ((parents-task-id-name (select-parent-tasks-id-and-title)))
    (list
     :page-title "Welcome"
     :project-description "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
     :parents-tasks-id-name parents-task-id-name))))
		       
(DEFINE-ROUTE HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
 (LET ((PARENTS-TASK-ID-NAME (SELECT-PARENT-TASKS-ID-AND-TITLE)))
   (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
         "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
         :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME)))
NIL
CL-USER> (macroexpand-1 '(define-route "fsdaf" ("SDF") (list :dsf "sdfaF"))
		       )
(DEFINE-ROUTE "fsdaf" ("SDF") (LIST :DSF "sdfaF"))
NIL
CL-USER> (in-package :public) (macroexpand-1 '(define-route home-get ("" :template-file "home.html.tmpl")
  (let ((parents-task-id-name (select-parent-tasks-id-and-title)))
    (list
     :page-title "Welcome"
     :project-description "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
     :parents-tasks-id-name parents-task-id-name))))
		       
(RESTAS:DEFINE-ROUTE HOME-GET
    ("" :METHOD :GET :CONTENT-TYPE NIL)
  (FILL-TEMPLATE "home.html.tmpl"
                 (APPEND
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET)))))
T
PUBLIC> (APPEND
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET)))
; Evaluation aborted on #<UNDEFINED-FUNCTION CLEAR-KEY-REST-LIST {1005A0D113}>.
PUBLIC> (APPEND
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET)))
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp" (written 04 SEP 2014 11:20:42 PM):

; file: /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp
; in: DEFUN GENURL
;     (PUBLIC::CLEAR-KEY-REST-LIST PUBLIC::ARGS '(:RELATIVE))
; 
; caught STYLE-WARNING:
;   undefined function: CLEAR-KEY-REST-LIST
; 
; compilation unit finished
;   Undefined function:
;     CLEAR-KEY-REST-LIST
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.fasl written
; compilation finished in 0:00:00.056
; Evaluation aborted on #<UNDEFINED-FUNCTION CLEAR-KEY-REST-LIST {1005BDC313}>.
PUBLIC> (APPEND
	 (LET ((PARENTS-TASK-ID-NAME
		(SELECT-PARENT-TASKS-ID-AND-TITLE)))
	   (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
		 "This is a tasks manager. It allows you to manage your task, by being able to create, encode-universal-time and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
		 :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
	 (LIST :HOME-URL (GENURL 'HOME-GET)))
; Evaluation aborted on #<UNDEFINED-FUNCTION CLEAR-KEY-REST-LIST {10070576A3}>.
PUBLIC> (APPEND
	 (LET ((PARENTS-TASK-ID-NAME
		(SELECT-PARENT-TASKS-ID-AND-TITLE)))
	   (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
		 "This is a tasks manager. It allows you to manage your task, by being able to create, encode-universal-time and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
		 :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME)))
(:PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
 "This is a tasks manager. It allows you to manage your task, by being able to create, encode-universal-time and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
 :PARENTS-TASKS-ID-NAME NIL)
PUBLIC> (APPEND
	 (LET ((PARENTS-TASK-ID-NAME
		(SELECT-PARENT-TASKS-ID-AND-TITLE)))
	   (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
		 "This is a tasks manager. It allows you to manage your task, by being able to create, encode-universal-time and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
		 :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME)))
(:PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
 "This is a tasks manager. It allows you to manage your task, by being able to create, encode-universal-time and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
 :PARENTS-TASKS-ID-NAME NIL)
PUBLIC> 
; No value
PUBLIC> (do ((i 0 (1+ i))
	     (end 5 end))
	    ((= i end) "reached")
	  (format t "~A" i))
01234
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp" (written 06 SEP 2014 08:30:07 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.fasl written
; compilation finished in 0:00:00.092
"reached"
PUBLIC> (clear-key-rest-list `(:marc "marc") '(:relative))
(:MARC "marc")
PUBLIC> (clear-key-rest-list `(:marc "marc" :ddd "Dsfs") '(:relative))
(:MARC "marc" :DDD "Dsfs")
PUBLIC> (clear-key-rest-list `((:marc "marc" :ddd "Dsfs")) '(:relative))
((:MARC "marc" :DDD "Dsfs"))
PUBLIC> (clear-key-rest-list `((genurl bab :marc "marc" :ddd "Dsfs")) '(:relative))
((GENURL BAB :MARC "marc" :DDD "Dsfs"))
PUBLIC> (clear-key-rest-list `(,(genurl bab :marc "marc" :ddd "Dsfs")) '(:relative))
; Evaluation aborted on #<UNBOUND-VARIABLE BAB {1003387C33}>.
PUBLIC> (clear-key-rest-list `(,(genurl home-get :marc "marc" :ddd "Dsfs")) '(:relative))
; compiling (DEFINE-ROUTE HOME-GET ...)

; file: /tmp/filek2SWYl
; in: DEFINE-ROUTE HOME-GET
;     (PUBLIC::DEFINE-ROUTE PUBLIC::HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME
;                                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME)))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK 
; ==>
;   (PUBLIC::FILL-TEMPLATE "home.html.tmpl"
;                          (APPEND
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME #))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME))
;                           (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET))))
; 
; caught STYLE-WARNING:
;   The function has an odd number of arguments in the keyword portion.
; 
; compilation unit finished
;   caught 1 STYLE-WARNING condition
; Evaluation aborted on #<UNBOUND-VARIABLE HOME-GET {100346DB83}>.
PUBLIC> (clear-key-rest-list `(,(genurl 'home-get :marc "marc" :ddd "Dsfs")) '(:relative))
("/?marc=marc&ddd=Dsfs")
PUBLIC> (trace clear-key-rest-list)
(CLEAR-KEY-REST-LIST)
PUBLIC> (clear-key-rest-list `(,(genurl 'home-get :marc "marc" :ddd "Dsfs")) '(:relative))
  0: (CLEAR-KEY-REST-LIST (:MARC "marc" :DDD "Dsfs") (:RELATIVE))
  0: CLEAR-KEY-REST-LIST returned (:MARC "marc" :DDD "Dsfs")
  0: (CLEAR-KEY-REST-LIST ("/?marc=marc&ddd=Dsfs") (:RELATIVE))
  0: CLEAR-KEY-REST-LIST returned ("/?marc=marc&ddd=Dsfs")
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp" (written 06 SEP 2014 08:36:05 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.fasl written
; compilation finished in 0:00:00.056
("/?marc=marc&ddd=Dsfs")
PUBLIC> (clear-key-rest-list `(,(genurl 'home-get :marc "marc" :ddd "Dsfs")) '(:relative))
  0: (CLEAR-KEY-REST-LIST (:MARC "marc" :DDD "Dsfs") (:RELATIVE))
WARNING: PUBLIC::I is undefined, not tracing.
WARNING: PUBLIC::I is undefined, not tracing.
WARNING: PUBLIC::I is undefined, not tracing.
WARNING: PUBLIC::I is undefined, not tracing.
  0: CLEAR-KEY-REST-LIST returned (:MARC "marc" :DDD "Dsfs")
  0: (CLEAR-KEY-REST-LIST ("/?marc=marc&ddd=Dsfs") (:RELATIVE))
WARNING: PUBLIC::I is undefined, not tracing.
  0: CLEAR-KEY-REST-LIST returned ("/?marc=marc&ddd=Dsfs")
("/?marc=marc&ddd=Dsfs")
PUBLIC> (untrace clear-key-rest-list)
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp" (written 06 SEP 2014 08:36:40 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.fasl written
; compilation finished in 0:00:00.060
T
PUBLIC> (rest `(,(genurl 'home-get :marc "marc" :ddd "Dsfs")))
NIL
PUBLIC> ((swank-backend:arglist  `(,(genurl 'home-get :marc "marc" :ddd "Dsfs")))
	 )
; in:
;      (SWANK-BACKEND:ARGLIST `(,(GENURL 'HOME-GET :MARC "marc" :DDD "Dsfs")))
;     ((SWANK-BACKEND:ARGLIST
;       `(,(PUBLIC::GENURL 'PUBLIC::HOME-GET :MARC "marc" :DDD "Dsfs"))))
; 
; caught ERROR:
;   illegal function call
; 
; compilation unit finished
;   caught 1 ERROR condition
; Evaluation aborted on #<SB-INT:COMPILED-PROGRAM-ERROR {1006FA0C73}>.
PUBLIC> (swank-backend:arglist  `(,(genurl 'home-get :marc "marc" :ddd "Dsfs")))
	 
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp" (written 06 SEP 2014 08:39:18 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.fasl written
; compilation finished in 0:00:00.063
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp" (written 06 SEP 2014 08:39:21 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.fasl written
; compilation finished in 0:00:00.075
; Evaluation aborted on #<TYPE-ERROR expected-type: FUNCTION datum: ("/?marc=marc&ddd=Dsfs")>.
PUBLIC> (genurl 'home-get :marc "marc" :ddd "Dsfs")
	 
; compiling file "/home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.lisp" (written 06 SEP 2014 08:39:43 AM):

; /home/marc/quicklisp/local-projects/themouallem/utilities/template-utils.fasl written
; compilation finished in 0:00:00.061
"/?marc=marc&ddd=Dsfs"
PUBLIC> (genurl 'home-get :marc "marc" :ddd "Dsfs")
	 
"/?marc=marc&ddd=Dsfs"
PUBLIC> (genurl 'home-get :marc "marc" :ddd "Dsfs" :relative nil)
	 
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 08:14:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE HOME-GET
;     (PUBLIC::DEFINE-ROUTE PUBLIC::HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME
;                                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME)))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK 
; ==>
;   (PUBLIC::FILL-TEMPLATE "home.html.tmpl"
;                          (APPEND
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME #))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME))
;                           (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET))))
; 
; caught STYLE-WARNING:
;   The function has an odd number of arguments in the keyword portion.
; 
; compilation unit finished
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.015
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 08:14:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE HOME-GET
;     (PUBLIC::DEFINE-ROUTE PUBLIC::HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME
;                                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME)))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK 
; ==>
;   (PUBLIC::FILL-TEMPLATE "home.html.tmpl"
;                          (APPEND
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME #))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME))
;                           (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET))))
; 
; caught STYLE-WARNING:
;   The function has an odd number of arguments in the keyword portion.
; 
; compilation unit finished
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.013
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 08:14:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE HOME-GET
;     (PUBLIC::DEFINE-ROUTE PUBLIC::HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME
;                                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME)))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK 
; ==>
;   (PUBLIC::FILL-TEMPLATE "home.html.tmpl"
;                          (APPEND
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME #))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME))
;                           (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET))))
; 
; caught STYLE-WARNING:
;   The function has an odd number of arguments in the keyword portion.
; 
; compilation unit finished
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.007
"http://localhost:8080/?marc=marc&ddd=Dsfs&relative=NIL"
PUBLIC> (restas:define-route home-get 
	    "<p>sfdsaf</p>")
; Evaluation aborted on #<SB-KERNEL::DEFMACRO-BOGUS-SUBLIST-ERROR {100625C453}>.
PUBLIC> (restas:define-route home-get (nil) 
	    "<p>sfdsaf</p>")
STYLE-WARNING: redefining PUBLIC::HOME-GET in DEFUN
; compiling file "/home/marc/quicklisp/local-projects/themouallem/logic/task.lisp" (written 06 SEP 2014 08:14:06 AM):

; file: /home/marc/quicklisp/local-projects/themouallem/logic/task.lisp
; in: DEFINE-ROUTE HOME-GET
;     (PUBLIC::DEFINE-ROUTE PUBLIC::HOME-GET ("" :TEMPLATE-FILE "home.html.tmpl")
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME
;                                  (PUBLIC::SELECT-PARENT-TASKS-ID-AND-TITLE)))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME)))
; --> RESTAS:DEFINE-ROUTE PROGN DEFUN PROGN EVAL-WHEN SB-IMPL::%DEFUN 
; --> MULTIPLE-VALUE-PROG1 PROGN BLOCK 
; ==>
;   (PUBLIC::FILL-TEMPLATE "home.html.tmpl"
;                          (APPEND
;                           (LET ((PUBLIC::PARENTS-TASK-ID-NAME #))
;                             (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
;                                   "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
;                                   :PARENTS-TASKS-ID-NAME
;                                   PUBLIC::PARENTS-TASK-ID-NAME))
;                           (LIST :HOME-URL (PUBLIC::GENURL 'PUBLIC::HOME-GET))))
; 
; caught STYLE-WARNING:
;   The function has an odd number of arguments in the keyword portion.
; 
; compilation unit finished
;   caught 1 STYLE-WARNING condition

; /home/marc/quicklisp/local-projects/themouallem/logic/task.fasl written
; compilation finished in 0:00:00.016
STYLE-WARNING: redefining PUBLIC::HOME-GET in DEFUN
; No value
PUBLIC> (restas:define-route home-get ("home.htm.tmpl") 
	    "<p>sfdsaf</p>")
STYLE-WARNING: redefining PUBLIC::HOME-GET in DEFUN
; No value
PUBLIC> (restas:define-route home-get ("" :method :get) 
	    "<p>sfdsaf</p>")
STYLE-WARNING: redefining PUBLIC::HOME-GET in DEFUN
; No value
PUBLIC> (macroexpand-1 '(define-route home-get ("" :template-file "home.html.tmpl")
  (let ((parents-task-id-name (select-parent-tasks-id-and-title)))
    (list
     :page-title "Welcome"
     :project-description "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
     :parents-tasks-id-name parents-task-id-name))))
		       
(RESTAS:DEFINE-ROUTE HOME-GET
    ("" :METHOD :GET :CONTENT-TYPE NIL)
  (FILL-TEMPLATE "home.html.tmpl"
                 (APPEND
                  (LET ((PARENTS-TASK-ID-NAME
                         (SELECT-PARENT-TASKS-ID-AND-TITLE)))
                    (LIST :PAGE-TITLE "Welcome" :PROJECT-DESCRIPTION
                          "This is a tasks manager. It allows you to manage your task, by being able to create, edit and delete tasks. You can also create sub-tasks, by identifying parent tasks for your task."
                          :PARENTS-TASKS-ID-NAME PARENTS-TASK-ID-NAME))
                  (LIST :HOME-URL (GENURL 'HOME-GET)))))
T
PUBLIC> (restas:define-route p-get ("/p" :method :get) 
	    "<p>sfdsaf</p>")
; No value
PUBLIC> (restas:define-route p-get ("/p" :method :get) 
	    "<p>sfdsasdffsfsdf sdf sdf</p>")